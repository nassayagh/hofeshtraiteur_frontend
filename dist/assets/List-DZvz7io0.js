import{u as Le}from"./Controller-CB8LaxSf.js";import{u as qe}from"./eventType-W3-U7vvM.js";import{u as Oe}from"./hall-6_Py5UCg.js";import{a6 as Ne,aC as Re,r as d,av as Be,aD as u,aE as Fe,h as ze,e as P,g as ce,q as He,Z as ye,o as _,c as Z,b as a,w as s,a8 as k,n as J,V as g,d as p,t as m,a as T,ae as Ve,af as ge,_ as A,a4 as U,X as Ke}from"./index-vfaWIJ38.js";import{_ as Ge}from"./BaseBreadcrumb-DD_RNDn1.js";import{a as R,f as se}from"./formatters-DCCWVJxZ.js";import{F as Xe}from"./vee-validate.esm-BDkpaunq.js";import{_ as Ze}from"./ChangeHall.vue_vue_type_script_setup_true_lang-CFR4kNQu.js";import"./demands-DpobMpx-.js";import{_ as Je,a as Qe}from"./PaymentForm.vue_vue_type_script_setup_true_lang-DH7ISISQ.js";import{V as f,a as oe}from"./VRow-DB0bchmH.js";import{V as We}from"./VDataTableServer-CGWPCdMx.js";import{V as Ye}from"./VToolbar-C3pfRImm.js";import{V as I}from"./VTextField-UwEl6nLs.js";import{V as E}from"./VSelect-D6rDql6P.js";import{V as Q}from"./VDialog-jpzG1fpB.js";import{V as be}from"./VLocaleProvider-Cg8YGJkN.js";import{V as _e}from"./VDatePicker-BEvJkovq.js";import{a as x,V as ke}from"./VSpacer-CpBwFx-d.js";import{a as he,b as $e,c as Ce,V as et}from"./VCard-Dhe58XK9.js";import{V as ue}from"./VTooltip-D3lJcwfx.js";import{V as tt}from"./VContainer-BqVxmop8.js";import{V as at}from"./VCombobox-BolKm7z0.js";import{V as lt}from"./VTextarea-DOu9X9GA.js";import{V as st}from"./VAlert-CqyRsDhC.js";import"./VMenu-Py4o6uJK.js";import"./VAvatar-k196mq10.js";import"./paymentMethod-Cj_uHiEi.js";import"./VAutocomplete-Dwgr7uR2.js";import"./filter-DZWa3QsX.js";import"./VSheet-DP78ED5j.js";const ot=["onClick"],ut=["onClick"],rt={key:0,class:"text-error font-weight-bold"},nt={key:0},dt={class:"text-h5"},it={key:0,class:"mt-2"},zt=Ne({__name:"List",setup(mt){const j=Re(),re=d(),ne=Be(),Pe=qe(),Ue=Oe(),c=d({title:u("Prestations")}),$=d([{text:u("Dashboard"),disabled:!1,href:"/"},{text:u("Prestations"),disabled:!0,href:"#"}]),y=d([]),W=d([]),Y=d([]),v=Le(),b=Fe(),C=d(0);ze(()=>{if(b.query.status&&(o.value.status=parseInt(b.query.status||0),o.value.status==-1&&(o.value.status=null)),b.query.date){const l=b.query.date.split(","),t=new Date(l[0]),V=new Date(l[1]);o.value.date=[t,V],o.value.status=null}b.query.hall&&(o.value.hall=[parseInt(b.query.hall||0)],o.value.status=null),b.query.event_type&&(o.value.event_type=[b.query.event_type],o.value.status=null),Ue.fetchItems({per_page:1e3}).then(l=>{Y.value=l.data.data}),ve(),N(),pe()});const D=d(!1),B=d(!1),de=d(null),F=d(!1),z=d(!1),ee=d(100),M=d(2),H=d(2),L=d(0),q=d(!1),De=d(!1),te=d("");d(["primary","secondary","error","success","warning"]);const w=d([{key:"event_date",order:"ASC"}]);d(0);const o=d({search:null,date:null,event_type:null,status:v.statuses.validated}),O=d({itemsPerPage:100,rowsPerPage:100,page:1,sortDesc:[!0],sortBy:[{key:"event_date",order:"ASC"}]}),K=d(-1),r=d({id:null,avatar:"1.jpg",name:"",email:"",password:"",changePassword:!0,jdate:"",role:"",rolestatus:""}),we=d({id:null,avatar:"1.jpg",name:"",email:"",password:"",changePassword:!0,jdate:"",role:"",rolestatus:""}),G=d(!1),X=d([{title:u("Prénom"),align:"start",key:"customer.firstname",sortable:!1},{title:u("Nom"),align:"start",key:"customer.lastname",sortable:!1},{title:u("Email"),align:"start",key:"customer.email",sortable:!1},{title:u("Téléphone"),align:"start",key:"customer.phone",sortable:!1},{title:u("Prest"),align:"start",key:"eventtype.name"},{title:u("Date de la prestation"),align:"start",key:"event_date"},{title:u("La réception se déroulera plutôt"),key:"reception_period"},{title:u("Heure"),key:"reception_start_time"},{title:u("Lieu"),key:"demand.event_location"},{title:u("Convives"),key:"demand.number_people"},{title:u("En attente de règlement"),align:"start",key:"amount_left",sortable:!1},{title:u("Montant total"),align:"start",key:"services_sum_total",sortable:!1},{title:u("Actions"),key:"actions",sortable:!1}]),ae=d([{title:u("Prénom"),align:"start",key:"customer.firstname",sortable:!1},{title:u("Nom"),align:"start",key:"customer.lastname",sortable:!1},{title:u("Email"),align:"start",key:"customer.email",sortable:!1},{title:u("Tél."),align:"start",key:"customer.phone",sortable:!1},{title:u("Source"),align:"start",key:"demand.source"},{title:u("Prest."),align:"start",key:"eventtype.name"},{title:u("Date prest."),align:"start",key:"event_date"},{title:u("Moment"),key:"reception_period"},{title:u("Heure"),key:"reception_start_time"},{title:u("Con."),key:"demand.number_people"},{title:u("Salle"),key:"hall"},{title:u("Reste à payer"),align:"start",key:"amount_left",sortable:!1},{title:u("Montant total"),align:"start",key:"services_sum_total",sortable:!1},{title:u("Actions"),key:"actions",sortable:!1}]),Se=P(()=>b.params.status),ie=P(()=>o.value.date&&o.value.date.length>0?R(o.value.date[0])+" - "+R(o.value.date[o.value.date.length-1]):null);ce(Se,(l,t)=>{l!=t&&(ve(),N())},{deep:!0}),P(()=>v.items.data.filter(l=>l.email.toLowerCase().includes(te.value.toLowerCase())));function me(l){D.value=!1,K.value=y.value.indexOf(l),r.value=Object.assign({},l),q.value=!0}function Te(){q.value=!1,setTimeout(()=>{r.value=Object.assign({},we.value),K.value=-1},300)}function Ae(l,{setErrors:t}){var V;(V=re.value)==null||V.validate().then(({valid:S})=>{S&&(B.value=!0,v.addItem(r.value).then(e=>{if(e.data.error){t({apiError:e.data.message});return}r.value.id!=null?Object.assign(y.value[K.value],e.data):y.value.unshift(e.data),D.value=!1,q.value=!1,r.value={customer:{}},ne.showSuccess(u("Prestations enregistreé avec succès")),pe()}).catch(e=>{B.value=!1,t({apiError:e})}).then(()=>{B.value=!1,t({apiError:null})}))})}function Ie(){v.deleteItem(r.value.id);const l=y.value.findIndex(t=>t.id==r.value.id);y.value.splice(l,1),G.value=!1,ne.showSuccess(u("Utilisateur supprimé avec succès"))}d({id:null,prestation_id:null,amount:0});const Ee=P(()=>K.value===-1?"Nouvel administrateur":"Modifier l’administrateur"),xe=P(()=>o.value.date&&o.value.date.length?o.value.date.length>1?[j.format(o.value.date[0],"shortDate"),j.format(o.value.date[o.value.date.length-1],"shortDate")]:[j.format(o.value.date[0],"shortDate"),j.format(o.value.date[0],"shortDate")]:null);function ve(){switch($.value=[{text:u("Dashboard"),disabled:!1,href:"/"}],y.value=[],L.value=0,X.value=ae.value,b.params.status){case"started":c.value={title:u("Prestations en attente de validation")},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.started,X.value=ae.value.filter(l=>l.key!="services_sum_total"&&l.key!="amount_left");break;case"validated":c.value={title:u("Prestations validées")},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.validated,X.value=ae.value;break;case"processing":c.value={title:u("Prestations en cours")},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.processing;break;case"closed":c.value={title:u("Prestations clôturées")},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.closed;break;case"cancelled":c.value={title:u("Prestations annulées")},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.cancelled;break;default:c.value={title:`${u("Prestations")}`},$.value.push({text:c.value.title,disabled:!0,href:"#"}),C.value=v.statuses.started;break}}function N(){try{clearTimeout(de.value)}catch{}de.value=setTimeout(()=>{D.value=!0;let l="id",t="desc";console.log(w.value),w.value.length>0&&(l=w.value[0].key,t=w.value[0].order),v.fetchItems({term:te.value,paginate:ee.value,current_page:M.value,status:C.value,direction:t,order_by:l,page:O.value.page,per_page:O.value.itemsPerPage,...o.value,date:xe.value}).then(V=>{if(V.data){const{data:S,current_page:e,next_page_url:n,total:i,per_page:h,to:vt,last_page:je}=V.data;y.value=S.map(le=>{const Me=le.event_date!=null?new Date(le.event_date):null;return{...le,event_date:Me}}),H.value=je,L.value=i}}).catch(V=>{console.error(V)}).then(()=>{D.value=!1})},1e3)}function pe(){Pe.fetchItems({term:"",paginate:500,current_page:1,direction:"asc",order_by:"name",page:1,per_page:500}).then(l=>{if(l.data){const{data:t,current_page:V,next_page_url:S,total:e,per_page:n,to:i,last_page:h}=l.data;W.value=t}}).catch(l=>{console.error(l)}).then(()=>{D.value=!1})}P(()=>r.value.event_date?j.format(r.value.event_date,"shortDate"):null);const fe=P(()=>r.value.event_date?R(r.value.event_date):null);return ce([te,O,o],()=>{N()},{deep:!0}),He(()=>{M.value>H.value&&(M.value=H.value)}),(l,t)=>{const V=ye("EyeIcon"),S=ye("PencilIcon");return _(),Z(Ke,null,[a(Ge,{title:`${c.value.title}(${L.value})`,breadcrumbs:$.value},null,8,["title","breadcrumbs"]),a(oe,null,{default:s(()=>[a(f,{cols:"12"},{default:s(()=>[a(We,{class:"border rounded-md",headers:X.value,loading:D.value,items:y.value,"multi-sort":!1,"items-per-page":ee.value,"onUpdate:itemsPerPage":t[14]||(t[14]=e=>ee.value=e),"items-per-page-text":l.$t("Articles par page"),options:O.value,"onUpdate:options":t[15]||(t[15]=e=>O.value=e),"sort-by":w.value,"onUpdate:sortBy":t[16]||(t[16]=e=>w.value=e),page:M.value,"onUpdate:page":t[17]||(t[17]=e=>M.value=e),"items-length":L.value,"onUpdate:itemsLength":t[18]||(t[18]=e=>L.value=e),"show-select":!1,"loading-text":l.$t("Chargement des éléments"),"no-data-text":l.$t("Pas de données"),"no-results-text":l.$t("Aucun résultat"),onPageCount:t[19]||(t[19]=e=>H.value=e)},{top:s(()=>[a(Ye,{class:"rounded-t-md pl-2 pr-2",flat:""},{default:s(()=>[a(oe,null,{default:s(()=>[a(f,null,{default:s(()=>[a(I,{density:"compact",modelValue:o.value.search,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value.search=e),placeholder:l.$t("Rechercher prénom, nom, email, téléphone..."),"hide-details":"",variant:"solo",flat:"",clearable:""},null,8,["modelValue","placeholder"])]),_:1}),a(f,null,{default:s(()=>[a(E,{density:"compact",modelValue:o.value.event_type,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.event_type=e),placeholder:l.$t("Prestation"),items:W.value,"item-value":"id","item-title":"name",multiple:"","hide-details":"",variant:"solo",flat:"",clearable:""},null,8,["modelValue","placeholder","items"])]),_:1}),a(f,null,{default:s(()=>[a(E,{density:"compact",modelValue:o.value.hall,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.hall=e),placeholder:l.$t("Salle"),items:Y.value,"item-value":"id","item-title":"name",multiple:"","hide-details":"",variant:"solo",flat:"",clearable:""},null,8,["modelValue","placeholder","items"])]),_:1}),a(f,null,{default:s(()=>[a(E,{density:"compact",modelValue:o.value.payment_status,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.payment_status=e),placeholder:l.$t("Reste à payer"),items:[{id:"waiting",label:l.$t("En attente")},{id:"completed",label:l.$t("Soldé")}],"item-value":"id","item-title":"label","hide-details":"",variant:"solo",flat:"",clearable:""},null,8,["modelValue","placeholder","items"])]),_:1}),a(f,null,{default:s(()=>[a(E,{density:"compact",modelValue:o.value.status,"onUpdate:modelValue":t[4]||(t[4]=e=>o.value.status=e),placeholder:l.$t("Statut"),items:k(v).statusesList,"item-value":"id","item-title":"label",clearable:"","hide-details":"",variant:"solo"},null,8,["modelValue","placeholder","items"])]),_:1}),a(f,null,{default:s(()=>[a(Q,{ref_key:"dialog",ref:De,modelValue:F.value,"onUpdate:modelValue":t[10]||(t[10]=e=>F.value=e),"return-value":o.value.date,"onUpdate:returnValue":t[11]||(t[11]=e=>o.value.date=e),persistent:"",width:"290px"},{activator:s(({props:e})=>[a(I,J({modelValue:ie.value,"onUpdate:modelValue":t[5]||(t[5]=n=>ie.value=n),"prepend-inner-icon":"bx-calendar",readonly:""},e,{density:"compact",placeholder:l.$t("Date"),"hide-details":"",variant:"solo",flat:"",clearable:"","onClick:clear":t[6]||(t[6]=n=>o.value.date=null)}),null,16,["modelValue","placeholder"])]),default:s(({isActive:e})=>[a(be,{locale:"fr"},{default:s(()=>[a(_e,{modelValue:o.value.date,"onUpdate:modelValue":t[9]||(t[9]=n=>o.value.date=n),"hide-header":"",multiple:"range"},{actions:s(()=>[a(g,{color:"primary",onClick:t[7]||(t[7]=n=>F.value=!1)},{default:s(()=>[p(m(l.$t("Annuler")),1)]),_:1}),a(x),a(g,{variant:"elevated",color:"primary",onClick:t[8]||(t[8]=n=>F.value=!1)},{default:s(()=>[p(m(l.$t("OK")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),a(Q,{modelValue:G.value,"onUpdate:modelValue":t[13]||(t[13]=e=>G.value=e),"max-width":"500px"},{default:s(()=>[a(he,null,{default:s(()=>[a($e,{class:"text-h5 text-center py-6"},{default:s(()=>[p(m(l.$t("Êtes-vous sûr de vouloir supprimer cet élément ?")),1)]),_:1}),a(Ce,null,{default:s(()=>[a(x),a(g,{color:"error",variant:"flat",dark:"",onClick:t[12]||(t[12]=e=>G.value=!1)},{default:s(()=>[p(m(l.$t("Annuler")),1)]),_:1}),a(g,{color:"success",variant:"flat",dark:"",onClick:Ie},{default:s(()=>[p(m(l.$t("OK")),1)]),_:1}),a(x)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.customer.firstname":s(({item:e})=>[T("span",{class:"cursor-pointer",onClick:n=>l.$router.push("/prestations/"+e.id)},m(e.customer?e.customer.firstname:""),9,ot)]),"item.customer.lastname":s(({item:e})=>[T("span",{class:"cursor-pointer",onClick:n=>l.$router.push("/prestations/"+e.id)},m(e.customer?e.customer.lastname:""),9,ut)]),"item.customer.email":s(({item:e})=>[a(ue,{text:e.customer.email},{activator:s(({props:n})=>[T("span",Ve(ge(n)),m(!e.customer||e.customer.email==null||e.customer.email.length<7?e.customer.email:`${e.customer.email.replace(`
`," ").slice(0,6)}...`),17)]),_:2},1032,["text"])]),"item.demand_date":s(({item:e})=>[p(m(k(R)(e.demand_date)),1)]),"item.event_date":s(({item:e})=>[p(m(k(R)(e.event_date)),1)]),"item.eventtype.name":s(({item:e})=>[e.eventtype?(_(),A(ue,{key:0,text:e.eventtype?e.eventtype.name:""},{activator:s(({props:n})=>[T("span",Ve(ge(n)),m(e.eventtype.name==null||e.eventtype.name.length<10?e.eventtype.name:`${e.eventtype.name.replace(`
`," ").slice(0,9)}...`),17)]),_:2},1032,["text"])):U("",!0)]),"item.amount_left":s(({index:e,item:n})=>[Math.max(n.services_sum_total-n.payments_sum_amount,0)>0?(_(),A(Je,{key:0,prestation:y.value[e],"onUpdate:item":N,"button-text":l.$t("Ajouter un paiement"),title:l.$t("Ajouter un paiement"),variant:"text"},{default:s(()=>[Math.max(n.services_sum_total-n.payments_sum_amount,0)>0?(_(),Z("span",rt,m(k(se)(Math.max(n.services_sum_total-n.payments_sum_amount,0))),1)):U("",!0)]),_:2},1032,["prestation","button-text","title"])):U("",!0)]),"item.services_sum_total":s(({item:e})=>[a(ke,{variant:"tonal",color:Math.max(e.services_sum_total-e.payments_sum_amount,0)>0?"error":"success",class:"font-weight-bold"},{default:s(()=>[p(m(k(se)(e.payments_sum_amount||0))+" / "+m(k(se)(e.services_sum_total||0)),1)]),_:2},1032,["color"])]),"item.status":s(({item:e})=>[a(ke,{color:k(v).statusColor(e.status),size:"small",label:""},{default:s(()=>[p(m(k(v).statusText(e.status)),1)]),_:2},1032,["color"])]),"item.hall":s(({index:e,item:n})=>[n.hall?(_(),Z("span",nt,m(n.hall.name),1)):U("",!0),n.hall?U("",!0):(_(),A(Ze,{key:1,modelValue:y.value[e],"onUpdate:modelValue":i=>y.value[e]=i,"show-demand-info":""},null,8,["modelValue","onUpdate:modelValue"]))]),"item.actions":s(({index:e,item:n})=>[n.status==k(v).statuses.validated?(_(),A(Qe,{key:0,onRefresh:N,modelValue:y.value[e],"onUpdate:modelValue":i=>y.value[e]=i,icon:""},null,8,["modelValue","onUpdate:modelValue"])):U("",!0),a(g,{icon:"",flat:"",density:"compact",class:"mx-2",to:"/prestations/"+n.id},{default:s(()=>[a(V,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1032,["to"]),a(ue,{text:l.$t("Modifier")},{activator:s(({props:i})=>[a(g,J({icon:"",flat:"",onClick:h=>me(n)},i),{default:s(()=>[a(S,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1040,["onClick"])]),_:2},1032,["text"])]),"no-data":s(()=>[T("span",null,m(l.$t("Aucune donnée disponible")),1)]),_:1},8,["headers","loading","items","items-per-page","items-per-page-text","options","sort-by","page","items-length","loading-text","no-data-text","no-results-text"]),a(Q,{modelValue:q.value,"onUpdate:modelValue":t[36]||(t[36]=e=>q.value=e),"max-width":"600px"},{activator:s(({props:e})=>[a(g,J({color:"primary",class:"align-self-end float-end",variant:"flat",onClick:t[20]||(t[20]=n=>me({customer:{},source:"admin"})),dark:""},e),{default:s(()=>[p(m(l.$t("Ajouter une prestation")),1)]),_:2},1040)]),default:s(()=>[a(he,null,{default:s(()=>[a($e,{class:"pa-4 bg-secondary"},{default:s(()=>[T("span",dt,m(Ee.value),1)]),_:1}),a(k(Xe),{ref_key:"refForm",ref:re,modelValue:l.valid,"onUpdate:modelValue":t[35]||(t[35]=e=>l.valid=e),onSubmit:Ae},{default:s(({errors:e,isSubmitting:n})=>[a(et,null,{default:s(()=>[a(tt,{class:"px-0"},{default:s(()=>[a(oe,null,{default:s(()=>[a(f,{cols:"12",md:"6"},{default:s(()=>[a(at,{modelValue:r.value.event_type_id,"onUpdate:modelValue":t[21]||(t[21]=i=>r.value.event_type_id=i),placeholder:l.$t("Type d'événement"),label:l.$t("Type d'événement"),items:W.value,"item-title":"name","item-value":"id",clearable:"","hide-details":"",variant:"outlined"},null,8,["modelValue","placeholder","label","items"])]),_:1}),a(f,{cols:"12",md:"6"},{default:s(()=>[a(Q,{ref:"dialogDemandDate",modelValue:z.value,"onUpdate:modelValue":t[27]||(t[27]=i=>z.value=i),"return-value":r.value.event_date,"onUpdate:returnValue":t[28]||(t[28]=i=>r.value.event_date=i),persistent:"",width:"290px"},{activator:s(({props:i})=>[a(I,J({modelValue:fe.value,"onUpdate:modelValue":t[22]||(t[22]=h=>fe.value=h),"prepend-inner-icon":"bx-calendar"},i,{placeholder:l.$t("Date de l'évènement"),label:l.$t("Date de l'évènement"),"hide-details":"",clearable:"",readonly:"","onClick:clear":t[23]||(t[23]=h=>r.value.event_date=null)}),null,16,["modelValue","placeholder","label"])]),default:s(({isActive:i})=>[a(be,{locale:"fr"},{default:s(()=>[a(_e,{modelValue:r.value.event_date,"onUpdate:modelValue":t[26]||(t[26]=h=>r.value.event_date=h),"hide-header":""},{actions:s(()=>[a(g,{color:"primary",onClick:t[24]||(t[24]=h=>z.value=!1)},{default:s(()=>[p(m(l.$t("Annuler")),1)]),_:1}),a(x),a(g,{variant:"elevated",color:"primary",onClick:t[25]||(t[25]=h=>z.value=!1)},{default:s(()=>[p(m(l.$t("OK")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","return-value"])]),_:1}),a(f,{cols:"12",md:"6"},{default:s(()=>[a(E,{modelValue:r.value.reception_period,"onUpdate:modelValue":t[29]||(t[29]=i=>r.value.reception_period=i),"hide-details":"",items:[l.$t("En matiné"),l.$t("Le midi"),l.$t("En soirée")],label:l.$t("La réception se déroulera plutôt"),clearable:""},null,8,["modelValue","items","label"])]),_:1}),a(f,{cols:"12",md:"6"},{default:s(()=>[a(I,{modelValue:r.value.reception_start_time,"onUpdate:modelValue":t[30]||(t[30]=i=>r.value.reception_start_time=i),"hide-details":"",label:l.$t("Heure de réception"),clearable:""},null,8,["modelValue","label"])]),_:1}),r.value.source!="admin"?(_(),A(f,{key:0,cols:"12",md:"6"},{default:s(()=>[a(I,{modelValue:r.value.event_location,"onUpdate:modelValue":t[31]||(t[31]=i=>r.value.event_location=i),"hide-details":"",label:l.$t("Lieu de l'événement")},null,8,["modelValue","label"])]),_:1})):(_(),A(f,{key:1,cols:"12",md:"6"},{default:s(()=>[a(E,{modelValue:r.value.hall_id,"onUpdate:modelValue":t[32]||(t[32]=i=>r.value.hall_id=i),items:Y.value,"item-value":"id","item-title":"name",label:l.$t("Salle liée")},null,8,["modelValue","items","label"])]),_:1})),a(f,{cols:"12",md:"6"},{default:s(()=>[a(I,{modelValue:r.value.number_people,"onUpdate:modelValue":t[33]||(t[33]=i=>r.value.number_people=i),"hide-details":"",type:"number",label:l.$t("Nombre de convives")},null,8,["modelValue","label"])]),_:1}),a(f,{cols:"12"},{default:s(()=>[a(lt,{modelValue:r.value.comment,"onUpdate:modelValue":t[34]||(t[34]=i=>r.value.comment=i),"hide-details":"",label:l.$t("Description de la demande")},null,8,["modelValue","label"])]),_:1})]),_:1}),e.apiError?(_(),Z("div",it,[a(st,{color:"error"},{default:s(()=>[p(m(e.apiError),1)]),_:2},1024)])):U("",!0)]),_:2},1024)]),_:2},1024),a(Ce,null,{default:s(()=>[a(x),a(g,{color:"error",variant:"flat",dark:"",onClick:Te},{default:s(()=>[p(m(l.$t("Annuler")),1)]),_:1}),a(g,{color:"success",variant:"flat",loading:B.value,type:"submit"},{default:s(()=>[p(m(l.$t("Sauvegarder")),1)]),_:1},8,["loading"]),a(x)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}});export{zt as default};
