import{a6 as x,r as d,o as i,_ as S,w as l,b as a,a as t,t as e,a8 as _,V as M,d as V,c as u,a4 as N,a5 as v,X as g,h as R}from"./index-ByVbuanv.js";import{V as w,_ as F}from"./BaseBreadcrumb-EI-uaaPh.js";import"./demands-13eAfZ27.js";import{u as k}from"./Controller-affsgHRo.js";import{f as m,a as L,b as j}from"./formatters-ChhyeSK0.js";import{a as T}from"./VSpacer-nS6bYtKg.js";import{V as E,a as C}from"./VCard-D8jqdyHr.js";import{u as J}from"./customers-P0WicUKP.js";import{V as Y}from"./VAutocomplete-DaU6w5D5.js";import{u as B}from"./hall-Fvnfzwtm.js";import{u as G}from"./payments-B6GsiHmD.js";import{u as H}from"./paymentMethod-DIA5LABm.js";import{u as U}from"./eventType-B0iUgqay.js";import{V as b,a as X}from"./VRow-DE7XMKPg.js";import"./VAvatar-DdFp7Ur3.js";import"./VSelect-D-nEYc66.js";import"./VTextField-W8WSSoQI.js";import"./VMenu-B4xZ6Nzt.js";import"./filter-D6wZfKUE.js";const q={class:"d-sm-flex align-center"},z={class:"text-h4"},K={class:"ml-auto"},Q={class:"text-subtitle-1 font-weight-medium"},W={key:0,class:"text-subtitle-1 font-weight-medium"},Z={class:"text-subtitle-1 font-weight-medium"},tt={key:1,class:"text-subtitle-1 font-weight-medium"},et=["onClick"],st={class:"text-no-wrap"},ot={key:0,class:"text-no-wrap"},at={key:1,class:"text-no-wrap text-truncate"},I=x({__name:"PrestastionTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=k(),n=c;return h.fetchItems(n.options).then(o=>{r.value=o.data.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",q,[t("div",null,[t("h2",z,e(c.title)+" "+e(_(m)(r.value.reduce((s,p)=>parseFloat(s)+p.service_total,0))),1)]),a(T),t("div",K,[a(M,{variant:"tonal",color:"primary",density:"compact",to:`/prestations?status=${c.options.status}`},{default:l(()=>[V(e(o.$t("Voir plus")),1)]),_:1},8,["to"])])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Q,e(o.$t("Nom")),1),n.options.statistics!="closed"?(i(),u("th",W,e(o.$t("Date")),1)):N("",!0),t("th",Z,e(o.$t("Montant")),1),n.options.statistics!="closed"?(i(),u("th",tt,e(o.$t("Lieu")),1)):N("",!0)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{key:s.id,class:"month-item cursor-pointer",onClick:p=>o.$router.push("/prestations/"+s.id)},[t("td",st,e(s.customer?`${s.customer.firstname} ${s.customer.lastname}`:"-"),1),n.options.statistics!="closed"?(i(),u("td",ot,e(_(L)(s.event_date)),1)):N("",!0),t("td",null,e(_(m)(s.service_total)),1),n.options.statistics!="closed"?(i(),u("td",at,e(s.event_location==null||s.event_location.length<10?s.event_location:`${s.event_location.replace(`
`," ").slice(0,9)}...`),1)):N("",!0)],8,et))),128))])]),_:1})]),_:1})]),_:1}))}}),lt={class:"d-sm-flex align-center"},nt={class:"text-h4"},it={class:"ml-auto"},rt={class:"text-subtitle-1 font-weight-medium"},dt={class:"text-subtitle-1 font-weight-medium"},ct={class:"text-subtitle-1 font-weight-medium"},ut={class:"text-subtitle-1 font-weight-medium"},_t=["onClick"],ht={class:"text-no-wrap"},pt=x({__name:"CustomerTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=J(),n=c;return h.fetchItems(n.options).then(o=>{r.value=o.data.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",lt,[t("div",null,[t("h2",nt,e(c.title),1)]),a(T),t("div",it,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/customers"},{default:l(()=>[V(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",rt,e(o.$t("Nom")),1),t("th",dt,e(o.$t("Mail")),1),t("th",ct,e(o.$t("Tel")),1),t("th",ut,e(o.$t("Prest")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{onClick:p=>o.$router.push("/customers/"+s.id),key:s.id,class:"month-item cursor-pointer"},[t("td",null,e(`${s.firstname} ${s.lastname}`),1),t("td",null,e(`${s.email}`),1),t("td",null,e(`${s.phone}`),1),t("td",ht,e(s.prestations_count),1)],8,_t))),128))])]),_:1})]),_:1})]),_:1}))}}),mt={class:"d-sm-flex align-center"},ft={class:"text-h4"},$t={class:"ml-auto"},yt={class:"text-subtitle-1 font-weight-medium"},bt={class:"text-subtitle-1 font-weight-medium"},gt={class:"text-subtitle-1 font-weight-medium"},vt={class:"text-subtitle-1 font-weight-medium"},xt={class:"text-subtitle-1 font-weight-medium"},St={class:"text-subtitle-1 font-weight-medium"},wt={class:"text-subtitle-1 font-weight-medium"},Et={class:"text-no-wrap"},Ct={class:"text-no-wrap"},P=x({__name:"IncomePerMonthTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){const r=new Date().getFullYear(),h=d(r);d(["March","April","May","June"]);const n=d([]),o=k(),y=c,s=Array.from({length:20},(f,D)=>y.options.section=="future"?r+D:r-D);function p(){o.fetchYearStatistics({...y.options,year:h.value}).then(f=>{n.value=f.data})}R(()=>{p()});function A(f){p()}return(f,D)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",mt,[t("div",null,[t("h2",ft,e(c.title)+" "+e(_(m)(n.value.reduce(($,O)=>parseFloat($)+O.amount_paid,0))),1)]),a(T),t("div",$t,[a(Y,{modelValue:h.value,"onUpdate:modelValue":[D[0]||(D[0]=$=>h.value=$),A],items:_(s),variant:"outlined",dense:"",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",yt,e(f.$t("Mois")),1),t("th",bt,e(f.$t("Reste")),1),t("th",gt,e(f.$t("Déjà")),1),t("th",vt,e(f.$t("CA")),1),t("th",xt,e(f.$t("Cls")),1),t("th",St,e(f.$t("Fait")),1),t("th",wt,e(f.$t("Anlé")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(n.value,$=>(i(),u("tr",{key:$.id,class:"month-item"},[t("td",Et,e(_(j)($.label)),1),t("td",Ct,e(_(m)($.amount_left)),1),t("td",null,e(_(m)($.amount_paid)),1),t("td",null,e(_(m)($.total_amount)),1),t("td",null,e($.customers_count||0),1),t("td",null,e($.prestations_closed||0),1),t("td",null,e($.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),At={class:"d-sm-flex align-center"},Tt={class:"text-h4"},Mt={class:"text-subtitle-1 font-weight-medium"},Vt={class:"text-subtitle-1 font-weight-medium"},Dt={class:"text-subtitle-1 font-weight-medium"},Nt={class:"text-subtitle-1 font-weight-medium"},It={class:"text-subtitle-1 font-weight-medium"},kt={class:"text-subtitle-1 font-weight-medium"},Pt={class:"text-subtitle-1 font-weight-medium"},Lt={class:"text-no-wrap"},Ot={class:"text-no-wrap"},Rt=x({__name:"IncomePerYearTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=k(),n=c;return h.fetchYearStatistics(n.options).then(o=>{r.value=o.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",At,[t("div",null,[t("h2",Tt,e(c.title)+" "+e(_(m)(r.value.reduce((s,p)=>parseFloat(s)+p.amount_paid,0))),1)])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Mt,e(o.$t("Année")),1),t("th",Vt,e(o.$t("Reste")),1),t("th",Dt,e(o.$t("Déjà")),1),t("th",Nt,e(o.$t("CA")),1),t("th",It,e(o.$t("Cls")),1),t("th",kt,e(o.$t("Fait")),1),t("th",Pt,e(o.$t("Anlé")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{key:s.id,class:"month-item"},[t("td",Lt,e(s.year),1),t("td",Ot,e(_(m)(s.amount_left)),1),t("td",null,e(_(m)(s.amount_paid)),1),t("td",null,e(_(m)(s.total_amount)),1),t("td",null,e(s.customers_count||0),1),t("td",null,e(s.prestations_closed||0),1),t("td",null,e(s.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Ft={class:"d-sm-flex align-center"},jt={class:"text-h4"},Jt={class:"ml-auto"},Yt={class:"text-subtitle-1 font-weight-medium"},Bt={class:"text-subtitle-1 font-weight-medium"},Gt={class:"text-subtitle-1 font-weight-medium"},Ht={class:"text-no-wrap"},Ut={class:"text-no-wrap"},Xt={class:"text-no-wrap"},qt=x({__name:"HallTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=B(),n=c;return h.fetchItems(n.options).then(o=>{r.value=o.data.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Ft,[t("div",null,[t("h2",jt,e(c.title),1)]),a(T),t("div",Jt,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/halls"},{default:l(()=>[V(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Yt,e(o.$t("Nom")),1),t("th",Bt,e(o.$t("Faite")),1),t("th",Gt,e(o.$t("Venir")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{key:s.id,class:"month-item"},[t("td",Ht,e(`${s.name}`),1),t("td",Ut,e(s.prestations_past),1),t("td",Xt,e(s.prestations_coming),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),zt={class:"d-sm-flex align-center"},Kt={class:"text-h4"},Qt={class:"ml-auto"},Wt={class:"text-subtitle-1 font-weight-medium"},Zt={class:"text-subtitle-1 font-weight-medium"},te={class:"text-subtitle-1 font-weight-medium"},ee={class:"text-subtitle-1 font-weight-medium"},se=["onClick"],oe={class:"text-no-wrap"},ae={class:"text-no-wrap"},le={class:"text-no-wrap"},ne={class:"text-no-wrap"},ie=x({__name:"PaymentTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=G(),n=c;return h.fetchItems(n.options).then(o=>{r.value=o.data.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",zt,[t("div",null,[t("h2",Kt,e(c.title)+" "+e(_(m)(r.value.reduce((s,p)=>parseFloat(s)+parseFloat(p.amount),0))),1)]),a(T),t("div",Qt,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:l(()=>[V(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Wt,e(o.$t("Montant")),1),t("th",Zt,e(o.$t("Client")),1),t("th",te,e(o.$t("Prest")),1),t("th",ee,e(o.$t("Date")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{key:s.id,class:"month-item cursor-pointer",onClick:p=>o.$router.push("/prestations/"+s.prestation_id)},[t("td",oe,e(_(m)(s.amount)),1),t("td",ae,e(`${s.prestation&&s.prestation.customer?`${s.prestation.customer.firstname} ${s.prestation.customer.lastname}`:""}`),1),t("td",le,e(`${s.prestation?`${s.prestation.event_type||"-"}`:""}`),1),t("td",ne,e(_(L)(s.created_at)),1)],8,se))),128))])]),_:1})]),_:1})]),_:1}))}}),re={class:"d-sm-flex align-center"},de={class:"text-h4"},ce={class:"ml-auto"},ue={class:"text-subtitle-1 font-weight-medium"},_e={class:"text-subtitle-1 font-weight-medium"},he={class:"text-subtitle-1 font-weight-medium"},pe={class:"text-no-wrap"},me={class:"text-no-wrap"},fe={class:"text-no-wrap"},$e=x({__name:"PaymentTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=H(),n=c;return h.fetchItems(n.options).then(o=>{r.value=o.data.data}),(o,y)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",re,[t("div",null,[t("h2",de,e(c.title)+" "+e(_(m)(r.value.reduce((s,p)=>parseFloat(s)+p.payments_sum_amount,0))),1)]),a(T),t("div",ce,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/payment_methods"},{default:l(()=>[V(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",ue,e(o.$t("Nom")),1),t("th",_e,e(o.$t("Montant")),1),t("th",he,e(o.$t("NB Réglements")),1)])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,s=>(i(),u("tr",{key:s.id,class:"month-item"},[t("td",pe,e(s.name),1),t("td",me,e(_(m)(s.payments_sum_amount)),1),t("td",fe,e(s.payments_count),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),ye={class:"d-sm-flex align-center"},be={class:"text-h4"},ge={class:"ml-auto"},ve={class:"text-subtitle-1 font-weight-medium"},xe={class:"text-subtitle-1 font-weight-medium"},Se={class:"text-no-wrap"},we={class:"text-no-wrap"},Ee=x({__name:"PrestationTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),h=U(),n=c,o=new Date().getFullYear(),y=Array.from({length:4},(s,p)=>o-p);return h.fetchItems(n.options).then(s=>{r.value=s.data.data}),(s,p)=>(i(),S(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",ye,[t("div",null,[t("h2",be,e(c.title),1)]),a(T),t("div",ge,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/event_types"},{default:l(()=>[V(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",ve,e(s.$t("Nom")),1),(i(!0),u(g,null,v(_(y),A=>(i(),u("th",xe,e(A),1))),256))])]),t("tbody",null,[(i(!0),u(g,null,v(r.value,A=>(i(),u("tr",{key:A.id,class:"month-item"},[t("td",Se,e(A.name),1),(i(!0),u(g,null,v(_(y),f=>(i(),u("td",we,e(A[`prestation_${f}`]||0),1))),256))]))),128))])]),_:1})]),_:1})]),_:1}))}}),He=x({__name:"Dashboard",setup(c){const r=d({title:"Dashboard"}),h=d([]);return(n,o)=>(i(),u(g,null,[a(F,{title:r.value.title,breadcrumbs:h.value},null,8,["title","breadcrumbs"]),a(X,{class:"dashboard"},{default:l(()=>[a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(I,{class:"h-100",title:n.$t("LISTE PRESTATION A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"future",status:1}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(I,{class:"h-100",title:n.$t("LISTE PRESTATION DEJA PASSE"),options:{per_page:10,order_by:"event_date",direction:"DESC",statistics:"past",status:3}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(pt,{class:"h-100",title:n.$t("LISTE DES CLIENTS RECENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(P,{class:"h-100",title:n.$t("CA/MOIS - DÉJÀ PASSÉ"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"past"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(P,{class:"h-100",title:n.$t("CA/MOIS - A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"future"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(Rt,{class:"h-100",title:n.$t("CA A L’ANNEE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"year_income"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(qt,{class:"h-100",title:n.$t("LISTE SALLES"),options:{per_page:10,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(ie,{class:"h-100",title:n.$t("LISTE REGLEMENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(I,{class:"h-100",title:n.$t("LISTE REGLEMENTS EN ATTENTE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"closed"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a($e,{class:"h-100",title:n.$t("TYPE REGLEMENTS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(b,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:l(()=>[a(Ee,{class:"h-100",title:n.$t("TYPE PRESTATIONS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1})]),_:1})],64))}});export{He as default};
