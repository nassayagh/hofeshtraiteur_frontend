import{a9 as l,aK as a,aa as i}from"./index-Cz0fh-rQ.js";const c=l({id:"Prestations",state:()=>({prestations:{data:[],loading:!1,error:null},statuses:{started:0,validated:1,processing:2,closed:3,cancelled:-1},statusesList:[{id:0,label:a("Validation")},{id:1,label:a("Validée")},{id:2,label:a("En cours")},{id:3,label:a("Clôturée")},{id:-1,label:a("Annulé")}],statistics:{total:0,validation:0,validated:0,processing:0,closed:0,cancelled:0,paymentsLeft:0,paymentsReceived:0,totalPayments:0}}),actions:{fetchStatistics(e){return i.get("/statistics/prestations",{params:e}).then(r=>{r.data&&(this.statistics=r.data)})},fetchItems(e){return i.get("/prestations",{params:e})},async addItem(e){return new Promise((r,n)=>{i.post("/prestations",e).then(t=>r(t)).catch(t=>n(t))})},fetchItem(e){return new Promise((r,n)=>{i.get(`/prestations/${e}`).then(t=>r(t)).catch(t=>n(t))})},deleteItem(e){return new Promise((r,n)=>{i.delete(`/prestations/${e}`).then(t=>r(t)).catch(t=>n(t))})},deleteService(e,r){return new Promise((n,t)=>{i.delete(`/prestations/services/${e}/${r}`).then(s=>n(s)).catch(s=>t(s))})},deletePayment(e,r){return new Promise((n,t)=>{i.delete(`/prestations/payments/${e}/${r}`).then(s=>n(s)).catch(s=>t(s))})},cancelItem(e,r){return new Promise((n,t)=>{i.post(`/prestations/cancel/${e}`,{comment:r}).then(s=>n(s)).catch(s=>t(s))})},addComment(e,r){return new Promise((n,t)=>{i.post(`/prestations/comment/${e}`,{comment:r}).then(s=>n(s)).catch(s=>t(s))})},startItem(e){return new Promise((r,n)=>{i.post(`/prestations/start/${e}`).then(t=>r(t)).catch(t=>n(t))})},closeItem(e){return new Promise((r,n)=>{i.post(`/prestations/close/${e}`).then(t=>r(t)).catch(t=>n(t))})},validateItem(e,r){return new Promise((n,t)=>{i.post(`/prestations/validate/${e}`,{comment:r}).then(s=>n(s)).catch(s=>t(s))})},changeHall(e,r){return new Promise((n,t)=>{i.post(`/prestations/changehall/${e}`,{hall:r}).then(s=>n(s)).catch(s=>t(s))})},saveService(e,r){return new Promise((n,t)=>{i.post(`/prestations/service/${e}`,r).then(s=>n(s)).catch(s=>t(s))})},savePayment(e,r){return new Promise((n,t)=>{i.post(`/prestations/payment/${e}`,r).then(s=>n(s)).catch(s=>t(s))})},statusColor(e){return e==-1?"#FA896B":e==1?"#97e686":e==3?"#1f9007":e==2?"#5D87FF":"#FFAE1F"},statusText(e){return e==this.statuses.cancelled?a("Annulé"):e==this.statuses.validated?a("Validée"):e==this.statuses.processing?a("En cours"):e==this.statuses.closed?a("Clôturée"):a("Validation")},pageTitle(e){return e==this.statuses.cancelled?a("Prestations annulées"):e==this.statuses.validated?a("Prestations validées"):e==this.statuses.processing?a("Prestations en cours"):e==this.statuses.closed?a("Prestations clôturées"):a("Prestations en attente de validation")},pageLink(e){return e==this.statuses.cancelled?"/prestations/list/cancelled":e==this.statuses.validated?"/prestations/list/validated":e==this.statuses.processing?"/prestations/list/processing":e==this.statuses.closed?"/prestations/list/closed":"/prestations/list/started"}}});export{c as u};
