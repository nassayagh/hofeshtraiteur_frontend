import{a6 as v,r as d,o as n,_ as x,w as l,b as a,a as t,t as e,V as M,d as D,c as u,a4 as I,a5 as b,a8 as h,X as $,h as L}from"./index-9-eZvP1X.js";import{V as w,_ as O}from"./BaseBreadcrumb-CyhTw0EO.js";import"./demands-DKpzCsK9.js";import{u as N}from"./Controller-CRy-4Wld.js";import{f as k,a as g,b as F}from"./formatters-DFmKRZND.js";import{a as T}from"./VSpacer-CLyyeSLR.js";import{V as E,a as C}from"./VCard-DtJ5rnBm.js";import{u as j}from"./customers-C9FF0195.js";import{V as J}from"./VAutocomplete-BJrmq_4Y.js";import{u as Y}from"./hall-D5YLp_yg.js";import{u as B}from"./payments-So3pcLUw.js";import{u as H}from"./paymentMethod-Ny8iq5pT.js";import{u as G}from"./eventType-CjBaBygH.js";import{V as f,a as U}from"./VRow-N9LjNYdG.js";import"./VAvatar-DXXRfvu0.js";import"./VSelect-B3OP60hq.js";import"./VTextField-BqfpXedn.js";import"./VMenu-rMPtMPH-.js";import"./filter-Cq4czTX-.js";const X={class:"d-sm-flex align-center"},q={class:"text-h4"},z={class:"ml-auto"},K={class:"text-subtitle-1 font-weight-medium"},Q={key:0,class:"text-subtitle-1 font-weight-medium"},W={class:"text-subtitle-1 font-weight-medium"},Z={key:1,class:"text-subtitle-1 font-weight-medium"},tt=["onClick"],et={class:"text-no-wrap"},st={class:"text-no-wrap"},ot={key:0,class:"text-no-wrap text-truncate"},P=v({__name:"PrestastionTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=N(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",X,[t("div",null,[t("h2",q,e(c.title),1)]),a(T),t("div",z,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/prestations"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",K,e(s.$t("Nom")),1),i.options.statistics!="closed"?(n(),u("th",Q,e(s.$t("Date")),1)):I("",!0),t("th",W,e(s.$t("Montant")),1),i.options.statistics!="closed"?(n(),u("th",Z,e(s.$t("Lieu")),1)):I("",!0)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item cursor-pointer",onClick:S=>s.$router.push("/prestations/"+o.id)},[t("td",et,e(o.customer?`${o.customer.firstname} ${o.customer.lastname}`:"-"),1),t("td",st,e(h(k)(o.event_date)),1),t("td",null,e(h(g)(o.services_sum_total)),1),i.options.statistics!="closed"?(n(),u("td",ot,e(o.event_location==null||o.event_location.length<10?o.event_location:`${o.event_location.length}: ${o.event_location.replace(`
`," ").substring(9)}...`),1)):I("",!0)],8,tt))),128))])]),_:1})]),_:1})]),_:1}))}}),at={class:"d-sm-flex align-center"},lt={class:"text-h4"},nt={class:"ml-auto"},it={class:"text-subtitle-1 font-weight-medium"},rt={class:"text-subtitle-1 font-weight-medium"},dt={class:"text-subtitle-1 font-weight-medium"},ct={class:"text-subtitle-1 font-weight-medium"},ut=["onClick"],_t={class:"text-no-wrap"},ht=v({__name:"CustomerTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=j(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",at,[t("div",null,[t("h2",lt,e(c.title),1)]),a(T),t("div",nt,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/customers"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",it,e(s.$t("Nom")),1),t("th",rt,e(s.$t("Mail")),1),t("th",dt,e(s.$t("Tel")),1),t("th",ct,e(s.$t("Prest")),1)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{onClick:S=>s.$router.push("/customers/"+o.id),key:o.id,class:"month-item cursor-pointer"},[t("td",null,e(`${o.firstname} ${o.lastname}`),1),t("td",null,e(`${o.email}`),1),t("td",null,e(`${o.phone}`),1),t("td",_t,e(o.prestations_count),1)],8,ut))),128))])]),_:1})]),_:1})]),_:1}))}}),pt={class:"d-sm-flex align-center"},mt={class:"text-h4"},ft={class:"ml-auto"},$t={class:"text-subtitle-1 font-weight-medium"},yt={class:"text-subtitle-1 font-weight-medium"},bt={class:"text-subtitle-1 font-weight-medium"},gt={class:"text-subtitle-1 font-weight-medium"},vt={class:"text-subtitle-1 font-weight-medium"},St={class:"text-subtitle-1 font-weight-medium"},xt={class:"text-subtitle-1 font-weight-medium"},wt={class:"text-no-wrap"},Et={class:"text-no-wrap"},R=v({__name:"IncomePerMonthTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){const r=new Date().getFullYear(),_=d(r);d(["March","April","May","June"]);const i=d([]),s=N(),m=c,o=Array.from({length:20},(p,V)=>m.options.section=="future"?r+V:r-V);function S(){s.fetchYearStatistics({...m.options,year:_.value}).then(p=>{i.value=p.data})}L(()=>{S()});function A(p){S()}return(p,V)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",pt,[t("div",null,[t("h2",mt,e(c.title),1)]),a(T),t("div",ft,[a(J,{modelValue:_.value,"onUpdate:modelValue":[V[0]||(V[0]=y=>_.value=y),A],items:h(o),variant:"outlined",dense:"",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",$t,e(p.$t("Mois")),1),t("th",yt,e(p.$t("Reste à payer")),1),t("th",bt,e(p.$t("Déjà payer")),1),t("th",gt,e(p.$t("CA")),1),t("th",vt,e(p.$t("Clients")),1),t("th",St,e(p.$t("Prest fait")),1),t("th",xt,e(p.$t("Prest annulé")),1)])]),t("tbody",null,[(n(!0),u($,null,b(i.value,y=>(n(),u("tr",{key:y.id,class:"month-item"},[t("td",wt,e(h(F)(y.label)),1),t("td",Et,e(h(g)(y.amount_left)),1),t("td",null,e(h(g)(y.amount_paid)),1),t("td",null,e(h(g)(y.total_amount)),1),t("td",null,e(y.customers_count||0),1),t("td",null,e(y.prestations_closed||0),1),t("td",null,e(y.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Ct={class:"d-sm-flex align-center"},At={class:"text-h4"},Tt={class:"text-subtitle-1 font-weight-medium"},Mt={class:"text-subtitle-1 font-weight-medium"},Dt={class:"text-subtitle-1 font-weight-medium"},Vt={class:"text-subtitle-1 font-weight-medium"},It={class:"text-subtitle-1 font-weight-medium"},Pt={class:"text-subtitle-1 font-weight-medium"},Nt={class:"text-subtitle-1 font-weight-medium"},Rt={class:"text-no-wrap"},kt={class:"text-no-wrap"},Lt=v({__name:"IncomePerYearTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=N(),i=c;return _.fetchYearStatistics(i.options).then(s=>{r.value=s.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Ct,[t("div",null,[t("h2",At,e(c.title),1)])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Tt,e(s.$t("Année")),1),t("th",Mt,e(s.$t("Reste à payer")),1),t("th",Dt,e(s.$t("Déjà payer")),1),t("th",Vt,e(s.$t("CA")),1),t("th",It,e(s.$t("Clients")),1),t("th",Pt,e(s.$t("Prest fait")),1),t("th",Nt,e(s.$t("Prest annulé")),1)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",Rt,e(o.year),1),t("td",kt,e(h(g)(o.amount_left)),1),t("td",null,e(h(g)(o.amount_paid)),1),t("td",null,e(h(g)(o.total_amount)),1),t("td",null,e(o.customers_count||0),1),t("td",null,e(o.prestations_closed||0),1),t("td",null,e(o.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Ot={class:"d-sm-flex align-center"},Ft={class:"text-h4"},jt={class:"ml-auto"},Jt={class:"text-subtitle-1 font-weight-medium"},Yt={class:"text-subtitle-1 font-weight-medium"},Bt={class:"text-subtitle-1 font-weight-medium"},Ht={class:"text-no-wrap"},Gt={class:"text-no-wrap"},Ut={class:"text-no-wrap"},Xt=v({__name:"HallTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=Y(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Ot,[t("div",null,[t("h2",Ft,e(c.title),1)]),a(T),t("div",jt,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/halls"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Jt,e(s.$t("Nom")),1),t("th",Yt,e(s.$t("PREST faite")),1),t("th",Bt,e(s.$t("PREST à venir")),1)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",Ht,e(`${o.name}`),1),t("td",Gt,e(o.prestations_past),1),t("td",Ut,e(o.prestations_coming),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),qt={class:"d-sm-flex align-center"},zt={class:"text-h4"},Kt={class:"ml-auto"},Qt={class:"text-subtitle-1 font-weight-medium"},Wt={class:"text-subtitle-1 font-weight-medium"},Zt={class:"text-subtitle-1 font-weight-medium"},te=["onClick"],ee={class:"text-no-wrap"},se={class:"text-no-wrap"},oe={class:"text-no-wrap"},ae=v({__name:"PaymentTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=B(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",qt,[t("div",null,[t("h2",zt,e(c.title),1)]),a(T),t("div",Kt,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Qt,e(s.$t("Montant")),1),t("th",Wt,e(s.$t("Prestation")),1),t("th",Zt,e(s.$t("Date")),1)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item cursor-pointer",onClick:S=>s.$router.push("/prestations/"+o.prestation_id)},[t("td",ee,e(h(g)(o.amount)),1),t("td",se,e(`${o.prestation?`${o.prestation.event_type||"-"}`:""}`),1),t("td",oe,e(h(k)(o.created_at)),1)],8,te))),128))])]),_:1})]),_:1})]),_:1}))}}),le={class:"d-sm-flex align-center"},ne={class:"text-h4"},ie={class:"ml-auto"},re={class:"text-subtitle-1 font-weight-medium"},de={class:"text-subtitle-1 font-weight-medium"},ce={class:"text-subtitle-1 font-weight-medium"},ue={class:"text-no-wrap"},_e={class:"text-no-wrap"},he={class:"text-no-wrap"},pe=v({__name:"PaymentTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=H(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",le,[t("div",null,[t("h2",ne,e(c.title),1)]),a(T),t("div",ie,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/payment_methods"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",re,e(s.$t("Nom")),1),t("th",de,e(s.$t("Montant")),1),t("th",ce,e(s.$t("NB Réglements")),1)])]),t("tbody",null,[(n(!0),u($,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",ue,e(o.name),1),t("td",_e,e(h(g)(o.payments_sum_amount)),1),t("td",he,e(o.payments_count),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),me={class:"d-sm-flex align-center"},fe={class:"text-h4"},$e={class:"ml-auto"},ye={class:"text-subtitle-1 font-weight-medium"},be={class:"text-subtitle-1 font-weight-medium"},ge={class:"text-no-wrap"},ve={class:"text-no-wrap"},Se=v({__name:"PrestationTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=G(),i=c,s=new Date().getFullYear(),m=Array.from({length:4},(o,S)=>s-S);return _.fetchItems(i.options).then(o=>{r.value=o.data.data}),(o,S)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",me,[t("div",null,[t("h2",fe,e(c.title),1)]),a(T),t("div",$e,[a(M,{variant:"tonal",color:"primary",density:"compact",to:"/event_types"},{default:l(()=>[D(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",ye,e(o.$t("Nom")),1),(n(!0),u($,null,b(h(m),A=>(n(),u("th",be,e(A),1))),256))])]),t("tbody",null,[(n(!0),u($,null,b(r.value,A=>(n(),u("tr",{key:A.id,class:"month-item"},[t("td",ge,e(A.name),1),(n(!0),u($,null,b(h(m),p=>(n(),u("td",ve,e(A[`prestation_${p}`]||0),1))),256))]))),128))])]),_:1})]),_:1})]),_:1}))}}),Ye=v({__name:"Dashboard",setup(c){const r=d({title:"Dashboard"}),_=d([]);return(i,s)=>(n(),u($,null,[a(O,{title:r.value.title,breadcrumbs:_.value},null,8,["title","breadcrumbs"]),a(U,{class:"dashboard"},{default:l(()=>[a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(P,{class:"h-100",title:i.$t("LISTE PRESTATION A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"future"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(P,{class:"h-100",title:i.$t("LISTE PRESTATION DEJA PASSE"),options:{per_page:10,order_by:"event_date",direction:"DESC",statistics:"past"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(ht,{class:"h-100",title:i.$t("LISTE DES CLIENTS RECENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(R,{class:"h-100",title:i.$t("CHIFFRE D’AFFAIRE PAR MOIS - DÉJÀ PASSÉ"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"past"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(R,{class:"h-100",title:i.$t("CHIFFRE D’AFFAIRE PAR MOIS - A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"future"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(Lt,{class:"h-100",title:i.$t("CA A L’ANNEE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"year_income"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(Xt,{class:"h-100",title:i.$t("LISTE SALLES"),options:{per_page:10,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(ae,{class:"h-100",title:i.$t("LISTE REGLEMENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(P,{class:"h-100",title:i.$t("LISTE REGLEMENTS EN ATTENTE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"closed"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(pe,{class:"h-100",title:i.$t("TYPE REGLEMENTS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(f,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:l(()=>[a(Se,{class:"h-100",title:i.$t("TYPE PRESTATIONS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1})]),_:1})],64))}});export{Ye as default};
