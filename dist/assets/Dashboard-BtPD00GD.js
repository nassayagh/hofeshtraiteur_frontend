import{p as U,ay as X,I as q,z as K,j as Q,M as W,l as Z,az as tt,N as et,A as st,aA as at,e as ot,aB as lt,m as nt,b as i,a6 as S,r as c,o as l,_ as f,w as r,a as t,t as e,a8 as y,d as N,V as P,c as _,a4 as V,a5 as k,ae as I,af as G,n as H,X as w,h as it}from"./index-DxRp-6ls.js";import{V as C,_ as rt}from"./BaseBreadcrumb-DdIb8IZf.js";import{u as dt}from"./demands-D3-0xyLs.js";import{u as j}from"./Controller-CGuKbF3w.js";import{f as b,a as F,b as ut}from"./formatters-ChhyeSK0.js";import{V as E,a as A}from"./VCard-CpcqkSNI.js";import{a as D}from"./VSpacer-CxsORflG.js";import{V as L}from"./VTooltip-BmfajbKD.js";import{u as ct}from"./customers-BvOMwjEy.js";import{V as ht}from"./VAutocomplete-ChZbWR_f.js";import{u as pt}from"./hall-CPoosH9C.js";import{u as _t}from"./payments-CdMKGEfJ.js";import{u as mt}from"./paymentMethod-BX7eyNVa.js";import{u as ft}from"./eventType-B0lYaMpB.js";import{V as x,a as $t}from"./VRow-AnA309xR.js";import"./VAvatar-z7B7HW94.js";import"./VSelect-BF9qQHUY.js";import"./VTextField-CrbR8xC7.js";import"./VMenu-BLuWJsyc.js";import"./filter-B55luNZI.js";const vt={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function yt(n){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${n}`]},[d])}function Y(n){const[d,u]=n.split("@");return Array.from({length:u}).map(()=>R(d))}function R(n){let d=[];if(!n)return d;const u=vt[n];if(n!==u){if(n.includes(","))return J(n);if(n.includes("@"))return Y(n);u.includes(",")?d=J(u):u.includes("@")?d=Y(u):u&&d.push(R(u))}return[yt(n,d)]}function J(n){return n.replace(/\s/g,"").split(",").map(R)}const gt=U({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...X(),...q(),...K()},"VSkeletonLoader"),T=Q()({name:"VSkeletonLoader",props:gt(),setup(n,d){let{slots:u}=d;const{backgroundColorClasses:h,backgroundColorStyles:v}=W(Z(n,"color")),{dimensionStyles:s}=tt(n),{elevationClasses:p}=et(n),{themeClasses:o}=st(n),{t:a}=at(),m=ot(()=>R(lt(n.type).join(",")));return nt(()=>{var M;const $=!u.default||n.loading;return i("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":n.boilerplate},o.value,h.value,p.value],style:[v.value,$?s.value:{}],"aria-busy":n.boilerplate?void 0:$,"aria-live":n.boilerplate?void 0:"polite","aria-label":n.boilerplate?void 0:a(n.loadingText),role:n.boilerplate?void 0:"alert"},[$?m.value:(M=u.default)==null?void 0:M.call(u)])}),{}}}),bt={class:"d-sm-flex align-center"},xt={class:"text-h4"},wt={class:"ml-auto"},kt={class:"text-subtitle-1 font-weight-medium"},St={key:0,class:"text-subtitle-1 font-weight-medium"},Ct={class:"text-subtitle-1 font-weight-medium"},Et={class:"text-subtitle-1 font-weight-medium"},At={key:1,class:"text-subtitle-1 font-weight-medium"},Tt=["onClick"],Mt={class:"text-no-wrap"},Vt={key:0,class:"text-no-wrap"},Dt={class:"text-no-wrap text-truncate"},Nt={key:1,class:"text-no-wrap text-truncate"},O=S({__name:"PrestastionTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(0),h=c(!0),v=j(),s=n;return v.fetchStats(s.options).then(p=>{d.value=p.data.data,u.value=p.data.total||0,h.value=!1}),(p,o)=>(l(),f(A,{elevation:"10"},{default:r(()=>[h.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",bt,[t("div",null,[t("h2",xt,e(n.title)+" : "+e(u.value||0)+" - "+e(y(b)(d.value.reduce((a,m)=>s.options.statistics!="closed"?parseFloat(a)+m.service_total:parseFloat(a)+(m.service_total-m.payment_total),0))),1)]),i(D),t("div",wt,[i(P,{variant:"tonal",color:"primary",density:"compact",to:`/prestations?status=${n.options.status}`},{default:r(()=>[N(e(p.$t("Voir plus")),1)]),_:1},8,["to"])])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",kt,e(p.$t("Nom")),1),s.options.statistics!="closed"?(l(),_("th",St,e(p.$t("Date")),1)):V("",!0),t("th",Ct,e(p.$t("Montant")),1),t("th",Et,e(p.$t("Type")),1),s.options.statistics!="closed"?(l(),_("th",At,e(p.$t("Lieu")),1)):V("",!0)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,a=>(l(),_("tr",{key:a.id,class:"month-item cursor-pointer",onClick:m=>p.$router.push("/prestations/"+a.id)},[t("td",Mt,e(a.customer?`${a.customer.firstname} ${a.customer.lastname}`:"-"),1),s.options.statistics!="closed"?(l(),_("td",Vt,e(y(F)(a.event_date)),1)):V("",!0),t("td",null,e(y(b)(s.options.statistics!="closed"?a.service_total:a.service_total-a.payment_total)),1),t("td",Dt,[i(L,{text:a.event_type},{activator:r(({props:m})=>[t("span",I(G(m)),e(a.event_type==null||a.event_type.length<10?a.event_type:`${a.event_type.replace(`
`," ").slice(0,9)}...`),17)]),_:2},1032,["text"])]),s.options.statistics!="closed"?(l(),_("td",Nt,[i(L,{text:a.hall?a.hall.name:""},{activator:r(({props:m})=>[a.hall?(l(),_("span",I(H({key:0},m)),e(a.hall.name.length<10?a.hall.name:`${a.hall.name.replace(`
`," ").slice(0,9)}...`),17)):V("",!0)]),_:2},1032,["text"])])):V("",!0)],8,Tt))),128))])]),_:1})]),_:1}))]),_:1}))}}),Pt={class:"d-sm-flex align-center"},It={class:"text-h4"},Lt={class:"ml-auto"},Rt={class:"text-subtitle-1 font-weight-medium"},Ot={class:"text-subtitle-1 font-weight-medium"},jt={class:"text-subtitle-1 font-weight-medium"},Ft={class:"text-subtitle-1 font-weight-medium"},Bt=["onClick"],Yt={class:"text-no-wrap"},Jt=S({__name:"CustomerTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=ct(),v=n;return h.fetchItems(v.options).then(s=>{d.value=s.data.data,u.value=!1}),(s,p)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",Pt,[t("div",null,[t("h2",It,e(n.title),1)]),i(D),t("div",Lt,[i(P,{variant:"tonal",color:"primary",density:"compact",to:"/customers"},{default:r(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",Rt,e(s.$t("Nom")),1),t("th",Ot,e(s.$t("Mail")),1),t("th",jt,e(s.$t("Tel")),1),t("th",Ft,e(s.$t("Prest")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,o=>(l(),_("tr",{onClick:a=>s.$router.push("/customers/"+o.id),key:o.id,class:"month-item cursor-pointer"},[t("td",null,e(`${o.firstname} ${o.lastname}`),1),t("td",null,e(`${o.email}`),1),t("td",null,e(`${o.phone}`),1),t("td",Yt,e(o.prestations_count),1)],8,Bt))),128))])]),_:1})]),_:1}))]),_:1}))}}),zt={class:"d-sm-flex align-center"},Gt={class:"text-h4"},Ht={class:"ml-auto"},Ut={class:"text-subtitle-1 font-weight-medium"},Xt={class:"text-subtitle-1 font-weight-medium"},qt={class:"text-subtitle-1 font-weight-medium"},Kt={class:"text-subtitle-1 font-weight-medium"},Qt={class:"text-subtitle-1 font-weight-medium"},Wt={class:"text-subtitle-1 font-weight-medium"},Zt={class:"text-subtitle-1 font-weight-medium"},te=["onClick"],ee={class:"text-no-wrap"},z=S({__name:"IncomePerMonthTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){const d=new Date().getFullYear(),u=c(d);c(["March","April","May","June"]);const h=c([]),v=c(!0),s=j(),p=n,o=Array.from({length:20},($,M)=>p.options.section=="future"?d+M:d-M);function a(){s.fetchYearStatistics({...p.options,year:u.value}).then($=>{h.value=$.data,v.value=!1})}it(()=>{a()});function m($){a()}return($,M)=>(l(),f(A,{elevation:"10"},{default:r(()=>[v.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",zt,[t("div",null,[t("h2",Gt,e(n.title)+" : "+e(y(b)(h.value.reduce((g,B)=>parseFloat(g)+B.total_amount,0))),1)]),i(D),t("div",Ht,[i(ht,{modelValue:u.value,"onUpdate:modelValue":[M[0]||(M[0]=g=>u.value=g),m],items:y(o),variant:"outlined",dense:"",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",Ut,e($.$t("Mois")),1),t("th",Xt,e($.$t("Reste")),1),t("th",qt,e($.$t("Déjà")),1),t("th",Kt,e($.$t("CA")),1),t("th",Qt,e($.$t("Cls")),1),t("th",Wt,e($.$t("Fait")),1),t("th",Zt,e($.$t("Anlé")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(h.value,g=>(l(),_("tr",{key:g.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:B=>$.$router.push(`/prestations?status=-5&date=${[g.date1,g.date2]}`)},e(y(ut)(g.label)),9,te),t("td",ee,e(y(b)(g.amount_left)),1),t("td",null,e(y(b)(g.amount_paid)),1),t("td",null,e(y(b)(g.total_amount)),1),t("td",null,e(g.customers_count||0),1),t("td",null,e(g.prestations_closed||0),1),t("td",null,e(g.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),se={class:"d-sm-flex align-center"},ae={class:"text-h4"},oe={class:"text-subtitle-1 font-weight-medium"},le={class:"text-subtitle-1 font-weight-medium"},ne={class:"text-subtitle-1 font-weight-medium"},ie={class:"text-subtitle-1 font-weight-medium"},re={class:"text-subtitle-1 font-weight-medium"},de={class:"text-subtitle-1 font-weight-medium"},ue={class:"text-subtitle-1 font-weight-medium"},ce=["onClick"],he={class:"text-no-wrap"},pe=S({__name:"IncomePerYearTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=j(),v=n;return h.fetchYearStatistics(v.options).then(s=>{d.value=s.data,u.value=!1}),(s,p)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",se,[t("div",null,[t("h2",ae,e(n.title),1)])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",oe,e(s.$t("Année")),1),t("th",le,e(s.$t("Reste")),1),t("th",ne,e(s.$t("Déjà")),1),t("th",ie,e(s.$t("CA")),1),t("th",re,e(s.$t("Cls")),1),t("th",de,e(s.$t("Fait")),1),t("th",ue,e(s.$t("Anlé")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,o=>(l(),_("tr",{key:o.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:a=>s.$router.push(`/prestations?status=-5&date=${[o.date1,o.date2]}`)},e(o.year),9,ce),t("td",he,e(y(b)(o.amount_left)),1),t("td",null,e(y(b)(o.amount_paid)),1),t("td",null,e(y(b)(o.total_amount)),1),t("td",null,e(o.customers_count||0),1),t("td",null,e(o.prestations_closed||0),1),t("td",null,e(o.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),_e={class:"d-sm-flex align-center"},me={class:"text-h4"},fe={class:"ml-auto"},$e={class:"text-subtitle-1 font-weight-medium"},ve={class:"text-subtitle-1 font-weight-medium"},ye={class:"text-subtitle-1 font-weight-medium"},ge=["onClick"],be={class:"text-no-wrap"},xe={class:"text-no-wrap"},we=S({__name:"HallTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=pt(),v=n;return h.fetchItems(v.options).then(s=>{d.value=s.data.data,u.value=!1}),(s,p)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",_e,[t("div",null,[t("h2",me,e(n.title),1)]),i(D),t("div",fe,[i(P,{variant:"tonal",color:"primary",density:"compact",to:"/halls"},{default:r(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",$e,e(s.$t("Nom")),1),t("th",ve,e(s.$t("Faite")),1),t("th",ye,e(s.$t("Venir")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,o=>(l(),_("tr",{key:o.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:a=>s.$router.push(`/prestations?hall=${o.id}`)},e(`${o.name}`),9,ge),t("td",be,e(o.prestations_past),1),t("td",xe,e(o.prestations_coming),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),ke={class:"d-sm-flex align-center"},Se={class:"text-h4"},Ce={class:"ml-auto"},Ee={class:"text-subtitle-1 font-weight-medium"},Ae={class:"text-subtitle-1 font-weight-medium"},Te={class:"text-subtitle-1 font-weight-medium"},Me={class:"text-subtitle-1 font-weight-medium"},Ve=["onClick"],De={class:"text-no-wrap"},Ne={class:"text-no-wrap"},Pe={class:"text-no-wrap"},Ie={class:"text-no-wrap"},Le=S({__name:"PaymentTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=_t(),v=n;return h.fetchItems(v.options).then(s=>{d.value=s.data.data,u.value=!1}),(s,p)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",ke,[t("div",null,[t("h2",Se,e(n.title)+" : "+e(y(b)(d.value.reduce((o,a)=>parseFloat(o)+parseFloat(a.amount),0))),1)]),i(D),t("div",Ce,[i(P,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:r(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",Ee,e(s.$t("Montant")),1),t("th",Ae,e(s.$t("Client")),1),t("th",Te,e(s.$t("Prest")),1),t("th",Me,e(s.$t("Date")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,o=>(l(),_("tr",{key:o.id,class:"month-item cursor-pointer",onClick:a=>s.$router.push("/prestations/"+o.prestation_id)},[t("td",De,e(y(b)(o.amount)),1),t("td",Ne,e(`${o.prestation&&o.prestation.customer?`${o.prestation.customer.firstname} ${o.prestation.customer.lastname}`:""}`),1),t("td",Pe,e(`${o.prestation?`${o.prestation.event_type||"-"}`:""}`),1),t("td",Ie,e(y(F)(o.payment_date)),1)],8,Ve))),128))])]),_:1})]),_:1}))]),_:1}))}}),Re={class:"d-sm-flex align-center"},Oe={class:"text-h4"},je={class:"ml-auto"},Fe={class:"text-subtitle-1 font-weight-medium"},Be={class:"text-subtitle-1 font-weight-medium"},Ye={class:"text-subtitle-1 font-weight-medium"},Je=["onClick"],ze={class:"text-no-wrap"},Ge={class:"text-no-wrap"},He=S({__name:"PaymentTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=mt(),v=n;return h.fetchItems(v.options).then(s=>{d.value=s.data.data,u.value=!1}),(s,p)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",Re,[t("div",null,[t("h2",Oe,e(n.title)+" : "+e(y(b)(d.value.reduce((o,a)=>parseFloat(o)+a.payments_sum_amount,0))),1)]),i(D),t("div",je,[i(P,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:r(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",Fe,e(s.$t("Nom")),1),t("th",Be,e(s.$t("Montant")),1),t("th",Ye,e(s.$t("NB Réglements")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,o=>(l(),_("tr",{key:o.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:a=>s.$router.push(`/payments?method=${o.name}`)},e(o.name),9,Je),t("td",ze,e(y(b)(o.payments_sum_amount)),1),t("td",Ge,e(o.payments_count),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ue={class:"d-sm-flex align-center"},Xe={class:"text-h4"},qe={class:"ml-auto"},Ke={class:"text-subtitle-1 font-weight-medium"},Qe={class:"text-subtitle-1 font-weight-medium"},We=["onClick"],Ze={class:"text-no-wrap"},ts=S({__name:"PrestationTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(!0),h=ft(),v=n,s=c([]),p=new Date().getFullYear();return Array.from({length:4},(o,a)=>p-a),h.fetchItems(v.options).then(o=>{d.value=o.data.data;for(let a=0;a<4;a++){const m=new Date().getFullYear()-a;for(let $=0;$<d.value.length;$++)d.value[$][`prestation_${m}`]>0&&s.value.indexOf(m)==-1&&s.value.push(m)}u.value=!1}),(o,a)=>(l(),f(A,{elevation:"10"},{default:r(()=>[u.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",Ue,[t("div",null,[t("h2",Xe,e(n.title),1)]),i(D),t("div",qe,[i(P,{variant:"tonal",color:"primary",density:"compact",to:"/event_types"},{default:r(()=>[N(e(o.$t("Voir plus")),1)]),_:1})])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",Ke,e(o.$t("Nom")),1),(l(!0),_(w,null,k(s.value,m=>(l(),_("th",Qe,e(m),1))),256))])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,m=>(l(),_("tr",{key:m.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:$=>o.$router.push(`/prestations?event_type=${m.name}`)},e(m.name),9,We),(l(!0),_(w,null,k(s.value,$=>(l(),_("td",Ze,e(m[`prestation_${$}`]||0),1))),256))]))),128))])]),_:1})]),_:1}))]),_:1}))}}),es={class:"d-sm-flex align-center"},ss={class:"text-h4"},as={class:"ml-auto"},os={class:"text-subtitle-1 font-weight-medium"},ls={class:"text-subtitle-1 font-weight-medium"},ns={class:"text-subtitle-1 font-weight-medium"},is={class:"text-subtitle-1 font-weight-medium"},rs=["onClick"],ds={class:"text-no-wrap"},us={key:0,class:"text-no-wrap"},cs={class:"text-no-wrap text-truncate"},hs={key:1,class:"text-no-wrap text-truncate"},ps=S({__name:"DemandTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(n){c("March"),c(["March","April","May","June"]);const d=c([]),u=c(0),h=c(!0),v=dt(),s=n;return v.fetchStats(s.options).then(p=>{d.value=p.data.data,u.value=p.data.total||0,h.value=!1}),(p,o)=>(l(),f(A,{elevation:"10"},{default:r(()=>[h.value?(l(),f(T,{key:0,height:"290"})):(l(),f(E,{key:1},{default:r(()=>[t("div",es,[t("div",null,[t("h2",ss,e(n.title)+" : "+e(u.value||0),1)]),i(D),t("div",as,[i(P,{variant:"tonal",color:"primary",density:"compact",to:`/demands?status=${n.options.status}`},{default:r(()=>[N(e(p.$t("Voir plus")),1)]),_:1},8,["to"])])]),i(C,{density:"compact"},{default:r(()=>[t("thead",null,[t("tr",null,[t("th",os,e(p.$t("Nom")),1),t("th",ls,e(p.$t("Date")),1),t("th",ns,e(p.$t("Type")),1),t("th",is,e(p.$t("Lieu")),1)])]),t("tbody",null,[(l(!0),_(w,null,k(d.value,a=>(l(),_("tr",{key:a.id,class:"month-item cursor-pointer",onClick:m=>p.$router.push("/demands/"+a.id)},[t("td",ds,e(a.customer?`${a.customer.firstname} ${a.customer.lastname}`:"-"),1),s.options.statistics!="closed"?(l(),_("td",us,e(y(F)(a.event_date)),1)):V("",!0),t("td",cs,[i(L,{text:a.event_type},{activator:r(({props:m})=>[t("span",I(G(m)),e(a.event_type==null||a.event_type.length<10?a.event_type:`${a.event_type.replace(`
`," ").slice(0,9)}...`),17)]),_:2},1032,["text"])]),s.options.statistics!="closed"?(l(),_("td",hs,[i(L,{text:a.hall?a.hall.name:""},{activator:r(({props:m})=>[a.hall?(l(),_("span",I(H({key:0},m)),e(a.hall.name.length<10?a.hall.name:`${a.hall.name.replace(`
`," ").slice(0,9)}...`),17)):V("",!0)]),_:2},1032,["text"])])):V("",!0)],8,rs))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ps=S({__name:"Dashboard",setup(n){const d=c({title:"Dashboard"}),u=c([]);return(h,v)=>(l(),_(w,null,[i(rt,{title:d.value.title,breadcrumbs:u.value},null,8,["title","breadcrumbs"]),i($t,{class:"dashboard"},{default:r(()=>[i(x,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:r(()=>[i(O,{class:"h-100",title:h.$t("PRESTATION A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"future",status:1}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:r(()=>[i(O,{class:"h-100",title:h.$t("PRESTATION DEJA PASSE"),options:{per_page:10,order_by:"event_date",direction:"DESC",statistics:"past",status:3}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:r(()=>[i(Jt,{class:"h-100",title:h.$t("CLIENTS RECENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past",status:1}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:r(()=>[i(ps,{class:"h-100",title:h.$t("DEMANDES RECENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past",status:1}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(z,{class:"h-100",title:h.$t("CA/MOIS - DÉJÀ PASSÉ"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"past"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(z,{class:"h-100",title:h.$t("CA/MOIS - A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"future"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(pe,{class:"h-100",title:h.$t("CA A L’ANNEE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"year_income"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(we,{class:"h-100",title:h.$t("LISTE SALLES"),options:{per_page:10,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(Le,{class:"h-100",title:h.$t("REGLEMENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"dashboard"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(O,{class:"h-100",title:h.$t("REGLEMENTS EN ATTENTE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"closed"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(He,{class:"h-100",title:h.$t("TYPE REGLEMENTS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),i(x,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:r(()=>[i(ts,{class:"h-100",title:h.$t("TYPE PRESTATIONS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1})]),_:1})],64))}});export{Ps as default};
