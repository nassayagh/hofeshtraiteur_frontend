import{_ as O}from"./BaseBreadcrumb-BuCmbs1d.js";import{_ as Q}from"./AppBaseCard.vue_vue_type_style_index_0_lang-6v11chlV.js";import{u as L}from"./ChatDetail.vue_vue_type_style_index_0_lang-D58CiCKI.js";import{h as j,e as I,r as $,E as h,o as l,c as o,b as t,w as e,a as s,V as y,n as W,d as P,M as b,N as C,F as f,t as d,Q as k,aV as D,O as A,a0 as X,L as _,aW as G,aX as J}from"./index-DaZgHbfZ.js";import{V as q}from"./VTextField-C8qNbBmY.js";import{V as K}from"./VMenu-Dxrtpm5z.js";import{e as N,c as T,a as F}from"./VList-DGeZ0jlr.js";import{V as p}from"./VSheet-DC3Fjzu0.js";import{V as S}from"./VAvatar-CiRDPHPp.js";import{V as B}from"./VBadge-Bj0bRrEt.js";import{f as H}from"./index-Cl4e9y55.js";import{V as Y}from"./VAlert-Cepu2pNR.js";import{V as U}from"./VDivider-Dt2hfknM.js";import{V as Z}from"./VCard-tFAXdJvD.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VNavigationDrawer-DGTqI07K.js";import"./layout-B5wspDqK.js";import"./ssrBoot-DX3Yt5vd.js";/* empty css                   */import"./VField-lO4v1Qpf.js";import"./index-6_WAMK5j.js";import"./VLabel-CAgIwRxt.js";import"./VInput-D7UUH5eJ.js";import"./dialog-transition-1OMTe_2Z.js";import"./createSimpleFunctional-BBOX1Fhn.js";import"./index-DT2YvziZ.js";const et={class:"px-6 pt-3"},st=["src"],at=s("small",{class:"textPrimary text-subtitle-2"},"Sent a Photo",-1),lt={key:1,class:"text-subtitle-2 textPrimary mt-1 text-truncate w-100"},ot={class:"d-flex flex-column text-right w-25"},nt={class:"textPrimary text-subtitle-2"},E={__name:"ChatListing",setup(v){const n=L();j(()=>{n.fetchChats()});const i=I(()=>n.chats),r=$(""),c=I(()=>i.value.filter(x=>x.name.toLowerCase().includes(r.value.toLowerCase()))),m=x=>D.last(x.chatHistory).createdAt,g=$([{title:"Sort by time"},{title:"Sort by Unread"},{title:"Mark all as read"}]);return(x,V)=>{const w=h("ChevronDownIcon"),M=h("perfect-scrollbar");return l(),o(b,null,[t(p,null,{default:e(()=>[s("div",et,[t(q,{variant:"outlined",modelValue:r.value,"onUpdate:modelValue":V[0]||(V[0]=a=>r.value=a),"append-inner-icon":"mdi-magnify",placeholder:"Search Contact","hide-details":"",density:"compact"},null,8,["modelValue"]),t(K,null,{activator:e(({props:a})=>[t(y,W({color:"white",variant:"flat",class:"mt-4 text-medium-emphasis"},a),{default:e(()=>[P("Recent Chats "),t(w,{size:"18",class:"ml-2"})]),_:2},1040)]),default:e(()=>[t(N,{class:"elevation-10"},{default:e(()=>[(l(!0),o(b,null,C(g.value,(a,z)=>(l(),f(T,{key:z,value:z},{default:e(()=>[t(F,null,{default:e(()=>[P(d(a.title),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1}),t(M,{class:"lgScroll"},{default:e(()=>[t(N,null,{default:e(()=>[(l(!0),o(b,null,C(c.value,a=>(l(),f(T,{value:a.id,color:"primary",class:"text-no-wrap chatItem",key:a.id,lines:"two",active:k(n).chatContent===a.id,onClick:z=>k(n).SelectChat(a.id)},{prepend:e(()=>[t(S,null,{default:e(()=>[s("img",{src:a.thumb,alt:"pro",width:"50"},null,8,st)]),_:2},1024),t(B,{class:"badg-dot",dot:"",color:a.status==="away"?"warning":a.status==="busy"?"error":a.status==="online"?"success":"containerBg"},null,8,["color"])]),append:e(()=>[s("div",ot,[s("small",nt,d(k(H)(new Date(m(a)),{addSuffix:!1})),1)])]),default:e(()=>[t(F,{class:"text-subtitle-1 textPrimary w-100 font-weight-medium"},{default:e(()=>[P(d(a.name),1)]),_:2},1024),a.chatHistory.slice(-1)[0].type=="img"?(l(),f(p,{key:0},{default:e(()=>[at]),_:1})):(l(),o("div",lt,d(a.chatHistory.slice(-1)[0].msg),1))]),_:2},1032,["value","active","onClick"]))),128))]),_:1})]),_:1})],64)}}},it=A({__name:"ChatSendMsg",setup(v){const n=$(""),u=L();function i(r){console.log(r),r.length!==0&&(u.sendMsg(u.chatContent,n.value),n.value="")}return(r,c)=>{const m=h("MoodSmileIcon"),g=h("SendIcon"),x=h("PhotoIcon"),V=h("PaperclipIcon");return l(),o("form",{class:"d-flex align-center pa-4",onSubmit:c[1]||(c[1]=X(w=>i(n.value),["prevent"]))},[t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:e(()=>[t(m,{size:"24"})]),_:1}),t(q,{variant:"solo","hide-details":"",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=w=>n.value=w),color:"primary",class:"shadow-none",density:"compact",placeholder:"Type a Message"},null,8,["modelValue"]),t(y,{icon:"",variant:"text",type:"submit",class:"text-medium-emphasis",disabled:!n.value},{default:e(()=>[t(g,{size:"20"})]),_:1},8,["disabled"]),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:e(()=>[t(x,{size:"20"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:e(()=>[t(V,{size:"20"})]),_:1})],32)}}}),rt={key:0,class:"pa-6"},ct={class:"text-h6 mb-3"},dt={key:0},ut=["src"],mt={class:"text-h6 mb-3 mt-7"},_t=["src"],pt={class:"pl-4"},ht={class:"text-subtitle-1 font-weight-semibold"},ft={class:"text-subtitle-2 mt-1"},vt=A({__name:"ChatInfo",props:{chatDetail:Object},setup(v){const n=v,u=I(()=>{var r;return D.uniq(D.flatten((r=n.chatDetail)==null?void 0:r.chatHistory.map(c=>c.attachment))).length}),i=I(()=>{var r;return D.uniq(D.flatten((r=n.chatDetail)==null?void 0:r.chatHistory.map(c=>(c==null?void 0:c.type)==="img"?c.msg:null))).length-1});return(r,c)=>v.chatDetail?(l(),o("div",rt,[s("h6",ct,"Media ("+d(i.value)+")",1),(l(!0),o(b,null,C(v.chatDetail.chatHistory,m=>(l(),o("div",{key:m.id},[m.type=="img"?(l(),o("div",dt,[s("img",{src:m.msg,alt:"img",width:"100"},null,8,ut)])):_("",!0)]))),128)),s("h6",mt,"Attachments ("+d(u.value)+")",1),u.value!=0?(l(),f(p,{key:0},{default:e(()=>[(l(!0),o(b,null,C(v.chatDetail.chatHistory,m=>(l(),o("div",{key:m.id},[(l(!0),o(b,null,C(m.attachment,g=>(l(),o("div",{class:"d-flex align-center mt-7",key:g.file},[t(S,{class:"rounded-md bg-grey100",size:"48"},{default:e(()=>[s("img",{width:"24",alt:"file",src:g.icon},null,8,_t)]),_:2},1024),s("div",pt,[s("h6",ht,d(g.file),1),s("h5",ft,d(g.fileSize),1)])]))),128))]))),128))]),_:1})):(l(),f(p,{key:1},{default:e(()=>[t(Y,{color:"error",type:"warning",density:"compact",variant:"tonal",class:"text-subtitle-1"},{default:e(()=>[P(" No Attachments Found! ")]),_:1})]),_:1}))])):_("",!0)}}),gt={key:0,class:"customHeight"},xt={class:"d-flex align-center gap-3 pa-4"},yt={class:"d-flex gap-2 align-center"},bt=["src"],Vt={class:"text-h5 mb-n1"},wt={class:"textPrimary"},Ct={class:"ml-auto d-flex"},kt={class:"d-flex"},$t={class:"w-100"},Dt={key:0,class:"justify-end d-flex text-end mb-1"},It={key:0,class:"text-medium-emphasis text-subtitle-2"},St={class:"text-body-1"},Pt=["src"],At={key:1,class:"d-flex align-items-start gap-3 mb-1"},Mt=["src"],zt={key:0,class:"text-medium-emphasis text-subtitle-2"},Ht={class:"text-body-1"},Lt=["src"],Bt={key:0,class:"right-sidebar"},Nt=A({__name:"ChatDetail",setup(v){const{lgAndUp:n}=G(),u=L();j(()=>{u.fetchChats()});const i=I(()=>u.chats[u.chatContent-1]),r=$(!!n);function c(){r.value=!r.value}return(m,g)=>{const x=h("PhoneIcon"),V=h("VideoPlusIcon"),w=h("DotsVerticalIcon"),M=h("perfect-scrollbar");return i.value?(l(),o("div",gt,[s("div",null,[s("div",xt,[s("div",yt,[t(S,null,{default:e(()=>[s("img",{src:i.value.thumb,alt:"pro",width:"50"},null,8,bt)]),_:1}),t(B,{class:"badg-dotDetail",dot:"",color:i.value.status==="away"?"warning":i.value.status==="busy"?"error":i.value.status==="online"?"success":"containerBg"},null,8,["color"]),s("div",null,[s("h5",Vt,d(i.value.name),1),s("small",wt,d(i.value.status),1)])]),s("div",Ct,[t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:e(()=>[t(x,{size:"24"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis"},{default:e(()=>[t(V,{size:"24"})]),_:1}),t(y,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:c},{default:e(()=>[t(w,{size:"24"})]),_:1})])]),t(U),t(M,{class:"rightpartHeight"},{default:e(()=>[s("div",kt,[s("div",$t,[(l(!0),o(b,null,C(i.value.chatHistory,a=>(l(),o("div",{key:a.id,class:"pa-5"},[i.value.id===a.senderId?(l(),o("div",Dt,[s("div",null,[a.createdAt?(l(),o("small",It,d(k(H)(new Date(a.createdAt),{addSuffix:!1}))+" ago",1)):_("",!0),a.type=="text"?(l(),f(p,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:e(()=>[s("p",St,d(a.msg),1)]),_:2},1024)):_("",!0),a.type=="img"?(l(),f(p,{key:2,class:"mb-1"},{default:e(()=>[s("img",{src:a.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,Pt)]),_:2},1024)):_("",!0)])])):(l(),o("div",At,[t(S,null,{default:e(()=>[s("img",{src:i.value.thumb,alt:"pro",width:"40"},null,8,Mt)]),_:1}),s("div",null,[a.createdAt?(l(),o("small",zt,d(i.value.name)+", "+d(k(H)(new Date(a.createdAt),{addSuffix:!1}))+" ago ",1)):_("",!0),a.type=="text"?(l(),f(p,{key:1,class:"bg-grey100 rounded-md px-3 py-2 mb-1"},{default:e(()=>[s("p",Ht,d(a.msg),1)]),_:2},1024)):_("",!0),a.type=="img"?(l(),f(p,{key:2,class:"mb-1"},{default:e(()=>[s("img",{src:a.msg,class:"rounded-md",alt:"pro",width:"250"},null,8,Lt)]),_:2},1024)):_("",!0)])]))]))),128))]),r.value?(l(),o("div",Bt,[t(p,null,{default:e(()=>[t(vt,{chatDetail:i.value},null,8,["chatDetail"])]),_:1})])):_("",!0)])]),_:1})]),t(U),t(it)])):_("",!0)}}}),Tt={class:"d-flex gap-2 align-center pa-6"},Ft=["src"],Ut=s("div",null,[s("h5",{class:"text-subtitle-1 font-weight-medium"},"Mathew Anderson"),s("h6",{class:"text-subtitle-2"},"Designer")],-1),R={__name:"ChatProfile",setup(v){return(n,u)=>(l(),f(p,null,{default:e(()=>[s("div",Tt,[t(S,{size:"large"},{default:e(()=>[s("img",{src:k(J),alt:"pro",width:"54"},null,8,Ft)]),_:1}),t(B,{class:"badg-dotDetail",dot:"",color:"success"}),Ut])]),_:1}))}},Et=A({__name:"Chats",setup(v){const n=$({title:"Chat app"}),u=$([{text:"Messenger",disabled:!0,href:"#"}]);return(i,r)=>(l(),o(b,null,[t(O,{title:n.value.title,breadcrumbs:u.value},null,8,["title","breadcrumbs"]),t(Z,{elevation:"10"},{default:e(()=>[t(Q,null,{leftpart:e(()=>[t(R),t(E)]),rightpart:e(()=>[t(Nt)]),mobileLeftContent:e(()=>[t(R),t(E)]),_:1})]),_:1})],64))}}),pe=tt(Et,[["__scopeId","data-v-982ac120"]]);export{pe as default};
