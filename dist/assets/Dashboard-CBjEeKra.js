import{p as q,ay as K,I as Q,z as W,j as Z,M as tt,l as et,az as at,N as st,A as ot,aA as lt,e as nt,aB as it,m as rt,b as n,a6 as C,r as d,o,_ as f,w as i,a as t,t as e,a8 as y,d as N,V as P,c as m,a4 as D,a5 as S,ae as O,af as H,n as U,X as k,aC as X,h as dt}from"./index-XeNcZacn.js";import{V as A,_ as ut}from"./BaseBreadcrumb-hrRvfHTl.js";import{u as ct}from"./demands-Cq5PL85-.js";import{u as B}from"./Controller-FE8tlEXV.js";import{f as x,a as Y,b as ht}from"./formatters-DCCWVJxZ.js";import{V as E,a as M}from"./VCard-DzjjGY7n.js";import{i as V}from"./VSpacer-BagTU5ql.js";import{V as j}from"./VTooltip-std3sUD0.js";import{u as pt}from"./customers-D_Dhk7Qa.js";import{V as _t}from"./VAutocomplete-B25AAQhY.js";import{u as mt}from"./hall-CQPnp-QC.js";import{u as ft}from"./payments-B9UrkRmN.js";import{u as $t}from"./paymentMethod-DJNTKt0y.js";import{u as yt}from"./eventType-BvTdr8ss.js";import{V as w,a as vt}from"./VRow-DM5ckK1m.js";import"./VTextField-Df6p7mME.js";import"./VAvatar-DUfuF0F0.js";const gt={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function bt(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${l}`]},[c])}function F(l){const[c,u]=l.split("@");return Array.from({length:u}).map(()=>L(c))}function L(l){let c=[];if(!l)return c;const u=gt[l];if(l!==u){if(l.includes(","))return z(l);if(l.includes("@"))return F(l);u.includes(",")?c=z(u):u.includes("@")?c=F(u):u&&c.push(L(u))}return[bt(l,c)]}function z(l){return l.replace(/\s/g,"").split(",").map(L)}const xt=q({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...K(),...Q(),...W()},"VSkeletonLoader"),T=Z()({name:"VSkeletonLoader",props:xt(),setup(l,c){let{slots:u}=c;const{backgroundColorClasses:h,backgroundColorStyles:$}=tt(et(l,"color")),{dimensionStyles:_}=at(l),{elevationClasses:s}=st(l),{themeClasses:p}=ot(l),{t:a}=lt(),r=nt(()=>L(it(l.type).join(",")));return rt(()=>{var g;const v=!u.default||l.loading;return n("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":l.boilerplate},p.value,h.value,s.value],style:[$.value,v?_.value:{}],"aria-busy":l.boilerplate?void 0:v,"aria-live":l.boilerplate?void 0:"polite","aria-label":l.boilerplate?void 0:a(l.loadingText),role:l.boilerplate?void 0:"alert"},[v?r.value:(g=u.default)==null?void 0:g.call(u)])}),{}}}),wt={class:"d-sm-flex align-center"},kt={class:"text-h4"},St={class:"ml-auto"},Ct={class:"text-subtitle-1 font-weight-medium"},At={class:"text-subtitle-1 font-weight-medium"},Et={class:"text-subtitle-1 font-weight-medium"},Mt={class:"text-subtitle-1 font-weight-medium"},Tt={key:0,class:"text-subtitle-1 font-weight-medium"},Dt=["onClick"],Vt={class:"text-no-wrap"},Nt={class:"text-no-wrap"},Pt={class:"text-no-wrap text-truncate"},It={key:0,class:"text-no-wrap text-truncate"},R=C({__name:"PrestastionTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(0),h=d(0),$=d(!0),_=B(),s=l;return _.fetchStats(s.options).then(p=>{c.value=p.data.data,u.value=p.data.total||0,h.value=p.data.total_amount||0,$.value=!1}),(p,a)=>(o(),f(M,{elevation:"10"},{default:i(()=>[$.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",wt,[t("div",null,[t("h2",kt,e(l.title)+" : "+e(u.value||0)+" | "+e(y(x)(h.value)),1)]),n(V),t("div",St,[n(P,{variant:"tonal",color:"primary",density:"compact",to:`/prestations?status=${l.options.status}`},{default:i(()=>[N(e(p.$t("Voir plus")),1)]),_:1},8,["to"])])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",Ct,e(p.$t("Nom")),1),t("th",At,e(p.$t("Date")),1),t("th",Et,e(p.$t("Montant")),1),t("th",Mt,e(p.$t("Type")),1),s.options.statistics!="closed"?(o(),m("th",Tt,e(p.$t("Lieu")),1)):D("",!0)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,r=>(o(),m("tr",{key:r.id,class:"month-item cursor-pointer",onClick:v=>p.$router.push("/prestations/"+r.id)},[t("td",Vt,e(r.customer?`${r.customer.firstname} ${r.customer.lastname}`:"-"),1),t("td",Nt,e(y(Y)(r.event_date)),1),t("td",null,e(y(x)(s.options.statistics!="closed"?r.service_total:r.service_total-r.payment_total)),1),t("td",Pt,[r.eventtype?(o(),f(j,{key:0,text:r.eventtype.name},{activator:i(({props:v})=>[t("span",O(H(v)),e(r.eventtype.name==null||r.eventtype.name.length<30?r.eventtype.name:`${r.eventtype.name.replace(`
`," ").slice(0,29)}...`),17)]),_:2},1032,["text"])):D("",!0)]),s.options.statistics!="closed"?(o(),m("td",It,[n(j,{text:r.hall?r.hall.name:""},{activator:i(({props:v})=>[r.hall?(o(),m("span",O(U({key:0},v)),e(r.hall.name.length<30?r.hall.name:`${r.hall.name.replace(`
`," ").slice(0,29)}...`),17)):D("",!0)]),_:2},1032,["text"])])):D("",!0)],8,Dt))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ot={class:"d-sm-flex align-center"},jt={class:"text-h4"},Lt={class:"ml-auto"},Rt={class:"text-subtitle-1 font-weight-medium"},Bt={class:"text-subtitle-1 font-weight-medium"},Yt={class:"text-subtitle-1 font-weight-medium"},Jt={class:"text-subtitle-1 font-weight-medium"},Ft=["onClick"],zt={class:"text-no-wrap"},Gt=C({__name:"CustomerTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(!0),h=d(0),$=pt(),_=l;return $.fetchItems(_.options).then(s=>{c.value=s.data.data,h.value=s.data.total,u.value=!1}),(s,p)=>(o(),f(M,{elevation:"10"},{default:i(()=>[u.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",Ot,[t("div",null,[t("h2",jt,e(l.title)+" : "+e(h.value),1)]),n(V),t("div",Lt,[n(P,{variant:"tonal",color:"primary",density:"compact",to:"/customers"},{default:i(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",Rt,e(s.$t("Nom")),1),t("th",Bt,e(s.$t("Mail")),1),t("th",Yt,e(s.$t("Tel")),1),t("th",Jt,e(s.$t("Prest")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,a=>(o(),m("tr",{onClick:r=>s.$router.push("/customers/"+a.id),key:a.id,class:"month-item cursor-pointer"},[t("td",null,e(`${a.firstname} ${a.lastname}`),1),t("td",null,e(`${a.email}`),1),t("td",null,e(`${a.phone}`),1),t("td",zt,e(a.prestations_count),1)],8,Ft))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ht={class:"d-sm-flex align-center"},Ut={class:"text-h4"},Xt={class:"ml-auto"},qt={class:"text-subtitle-1 font-weight-medium"},Kt={class:"text-subtitle-1 font-weight-medium"},Qt={class:"text-subtitle-1 font-weight-medium"},Wt={class:"text-subtitle-1 font-weight-medium"},Zt={class:"text-subtitle-1 font-weight-medium"},te={class:"text-subtitle-1 font-weight-medium"},ee={class:"text-subtitle-1 font-weight-medium"},ae=["onClick"],se={class:"text-no-wrap"},G=C({__name:"IncomePerMonthTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){const c=X(),u=new Date().getFullYear(),h=d(u);d(["March","April","May","June"]);const $=d([]),_=d(!0),s=B(),p=l,a=Array.from({length:20},(g,I)=>p.options.section=="future"?u+I:u-I);function r(){s.fetchYearStatistics({...p.options,year:h.value}).then(g=>{$.value=g.data,_.value=!1})}dt(()=>{r()});function v(g){r()}return(g,I)=>(o(),f(M,{elevation:"10"},{default:i(()=>[_.value?(o(),f(T,{key:0,height:"290",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",Ht,[t("div",null,[t("h2",Ut,e(l.title)+" : "+e(y(x)($.value.reduce((b,J)=>parseFloat(b)+J.total_amount,0))),1)]),n(V),t("div",Xt,[n(_t,{modelValue:h.value,"onUpdate:modelValue":[I[0]||(I[0]=b=>h.value=b),v],items:y(a),variant:"outlined",dense:"",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",qt,e(g.$t("Mois")),1),t("th",Kt,e(g.$t("Reste")),1),t("th",Qt,e(g.$t("Déjà")),1),t("th",Wt,e(g.$t("CA")),1),t("th",Zt,e(g.$t("Cls")),1),t("th",te,e(g.$t("Fait")),1),t("th",ee,e(g.$t("Anlé")),1)])]),t("tbody",null,[(o(!0),m(k,null,S($.value,b=>(o(),m("tr",{key:b.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:J=>g.$router.push(`/prestations?status=-5&date=${[y(c).format(b.date1,"shortDate"),y(c).format(b.date2,"shortDate")]}`)},e(y(ht)(b.label)),9,ae),t("td",se,e(y(x)(b.amount_left)),1),t("td",null,e(y(x)(b.amount_paid)),1),t("td",null,e(y(x)(b.total_amount)),1),t("td",null,e(b.customers_count||0),1),t("td",null,e(b.prestations_closed||0),1),t("td",null,e(b.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),oe={class:"d-sm-flex align-center"},le={class:"text-h4"},ne={class:"text-subtitle-1 font-weight-medium"},ie={class:"text-subtitle-1 font-weight-medium"},re={class:"text-subtitle-1 font-weight-medium"},de={class:"text-subtitle-1 font-weight-medium"},ue={class:"text-subtitle-1 font-weight-medium"},ce={class:"text-subtitle-1 font-weight-medium"},he={class:"text-subtitle-1 font-weight-medium"},pe=["onClick"],_e={class:"text-no-wrap"},me=C({__name:"IncomePerYearTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){const c=X();d("March"),d(["March","April","May","June"]);const u=d([]),h=d(!0),$=B(),_=l;return $.fetchYearStatistics(_.options).then(s=>{u.value=s.data,h.value=!1}),(s,p)=>(o(),f(M,{elevation:"10"},{default:i(()=>[h.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",oe,[t("div",null,[t("h2",le,e(l.title),1)])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",ne,e(s.$t("Année")),1),t("th",ie,e(s.$t("Reste")),1),t("th",re,e(s.$t("Déjà")),1),t("th",de,e(s.$t("CA")),1),t("th",ue,e(s.$t("Cls")),1),t("th",ce,e(s.$t("Fait")),1),t("th",he,e(s.$t("Anlé")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(u.value,a=>(o(),m("tr",{key:a.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:r=>s.$router.push(`/prestations?status=-5&date=${[y(c).format(a.date1,"shortDate"),y(c).format(a.date2,"shortDate")]}`)},e(a.year),9,pe),t("td",_e,e(y(x)(a.amount_left)),1),t("td",null,e(y(x)(a.amount_paid)),1),t("td",null,e(y(x)(a.total_amount)),1),t("td",null,e(a.customers_count||0),1),t("td",null,e(a.prestations_closed||0),1),t("td",null,e(a.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),fe={class:"d-sm-flex align-center"},$e={class:"text-h4"},ye={class:"ml-auto"},ve={class:"text-subtitle-1 font-weight-medium"},ge={class:"text-subtitle-1 font-weight-medium"},be={class:"text-subtitle-1 font-weight-medium"},xe=["onClick"],we={class:"text-no-wrap"},ke={class:"text-no-wrap"},Se=C({__name:"HallTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(!0),h=d(0),$=mt(),_=l;return $.fetchItems(_.options).then(s=>{c.value=s.data.data,h.value=s.data.total,u.value=!1}),(s,p)=>(o(),f(M,{elevation:"10"},{default:i(()=>[u.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",fe,[t("div",null,[t("h2",$e,e(l.title)+" : "+e(h.value),1)]),n(V),t("div",ye,[n(P,{variant:"tonal",color:"primary",density:"compact",to:"/halls"},{default:i(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",ve,e(s.$t("Nom")),1),t("th",ge,e(s.$t("Faite")),1),t("th",be,e(s.$t("Venir")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,a=>(o(),m("tr",{key:a.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:r=>s.$router.push(`/prestations?hall=${a.id}`)},e(`${a.name}`),9,xe),t("td",we,e(a.prestations_past),1),t("td",ke,e(a.prestations_coming),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ce={class:"d-sm-flex align-center"},Ae={class:"text-h4"},Ee={class:"ml-auto"},Me={class:"text-subtitle-1 font-weight-medium"},Te={class:"text-subtitle-1 font-weight-medium"},De={class:"text-subtitle-1 font-weight-medium"},Ve={class:"text-subtitle-1 font-weight-medium"},Ne=["onClick"],Pe={class:"text-no-wrap"},Ie={class:"text-no-wrap"},Oe={class:"text-no-wrap"},je={class:"text-no-wrap"},Le=C({__name:"PaymentTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(0),h=d(!0),$=ft(),_=l;return $.fetchStats(_.options).then(s=>{console.log(s.data),c.value=s.data.data.data,u.value=s.data.total_amount||0,h.value=!1}),(s,p)=>(o(),f(M,{elevation:"10"},{default:i(()=>[h.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",Ce,[t("div",null,[t("h2",Ae,e(l.title)+" : "+e(y(x)(u.value)),1)]),n(V),t("div",Ee,[n(P,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:i(()=>[N(e(s.$t("Voir plus")),1)]),_:1})])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",Me,e(s.$t("Montant")),1),t("th",Te,e(s.$t("Client")),1),t("th",De,e(s.$t("Prest")),1),t("th",Ve,e(s.$t("Date")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,a=>(o(),m("tr",{key:a.id,class:"month-item cursor-pointer",onClick:r=>s.$router.push("/prestations/"+a.prestation_id)},[t("td",Pe,e(y(x)(a.amount)),1),t("td",Ie,e(`${a.prestation&&a.prestation.customer?`${a.prestation.customer.firstname} ${a.prestation.customer.lastname}`:""}`),1),t("td",Oe,e(`${a.prestation&&a.prestation.eventtype?`${a.prestation.eventtype.name||"-"}`:""}`),1),t("td",je,e(y(Y)(a.payment_date)),1)],8,Ne))),128))])]),_:1})]),_:1}))]),_:1}))}}),Re={class:"d-sm-flex align-center"},Be={class:"text-h4"},Ye={class:"ml-auto"},Je={class:"text-subtitle-1 font-weight-medium"},Fe={class:"text-subtitle-1 font-weight-medium"},ze={class:"text-subtitle-1 font-weight-medium"},Ge=["onClick"],He={class:"text-no-wrap"},Ue={class:"text-no-wrap"},Xe=C({__name:"PaymentTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(!0),h=$t(),$=l;return h.fetchItems($.options).then(_=>{c.value=_.data.data,u.value=!1}),(_,s)=>(o(),f(M,{elevation:"10"},{default:i(()=>[u.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",Re,[t("div",null,[t("h2",Be,e(l.title)+" : "+e(y(x)(c.value.reduce((p,a)=>parseFloat(p)+a.payments_sum_amount,0))),1)]),n(V),t("div",Ye,[n(P,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:i(()=>[N(e(_.$t("Voir plus")),1)]),_:1})])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",Je,e(_.$t("Nom")),1),t("th",Fe,e(_.$t("Montant")),1),t("th",ze,e(_.$t("NB Réglements")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,p=>(o(),m("tr",{key:p.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:a=>_.$router.push(`/payments?method=${p.name}`)},e(p.name),9,Ge),t("td",He,e(y(x)(p.payments_sum_amount)),1),t("td",Ue,e(p.payments_count),1)]))),128))])]),_:1})]),_:1}))]),_:1}))}}),qe={class:"d-sm-flex align-center"},Ke={class:"text-h4"},Qe={class:"ml-auto"},We={class:"text-subtitle-1 font-weight-medium"},Ze={class:"text-subtitle-1 font-weight-medium"},ta=["onClick"],ea={class:"text-no-wrap"},aa=C({__name:"PrestationTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(!0),h=yt(),$=l,_=d([]),s=new Date().getFullYear();return Array.from({length:4},(p,a)=>s-a),h.fetchItems($.options).then(p=>{c.value=p.data.data;for(let a=0;a<4;a++){const r=new Date().getFullYear()-a;for(let v=0;v<c.value.length;v++)c.value[v][`prestation_${r}`]>0&&_.value.indexOf(r)==-1&&_.value.push(r)}u.value=!1}),(p,a)=>(o(),f(M,{elevation:"10"},{default:i(()=>[u.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",qe,[t("div",null,[t("h2",Ke,e(l.title),1)]),n(V),t("div",Qe,[n(P,{variant:"tonal",color:"primary",density:"compact",to:"/event_types"},{default:i(()=>[N(e(p.$t("Voir plus")),1)]),_:1})])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",We,e(p.$t("Nom")),1),(o(!0),m(k,null,S(_.value,r=>(o(),m("th",Ze,e(r),1))),256))])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,r=>(o(),m("tr",{key:r.id,class:"month-item"},[t("td",{class:"text-no-wrap cursor-pointer",onClick:v=>p.$router.push(`/prestations?event_type=${r.id}`)},e(r.name),9,ta),(o(!0),m(k,null,S(_.value,v=>(o(),m("td",ea,e(r[`prestation_${v}`]||0),1))),256))]))),128))])]),_:1})]),_:1}))]),_:1}))}}),sa={class:"d-sm-flex align-center"},oa={class:"text-h4"},la={class:"ml-auto"},na={class:"text-subtitle-1 font-weight-medium"},ia={class:"text-subtitle-1 font-weight-medium"},ra={class:"text-subtitle-1 font-weight-medium"},da={class:"text-subtitle-1 font-weight-medium"},ua={class:"text-subtitle-1 font-weight-medium"},ca=["onClick"],ha={class:"text-no-wrap"},pa={key:0,class:"text-no-wrap"},_a={class:"text-no-wrap"},ma={class:"text-no-wrap text-truncate"},fa={key:1,class:"text-no-wrap text-truncate"},$a=C({__name:"DemandTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(l){d("March"),d(["March","April","May","June"]);const c=d([]),u=d(0),h=d(!0),$=ct(),_=l;return $.fetchStats(_.options).then(s=>{c.value=s.data.data,u.value=s.data.total||0,h.value=!1}),(s,p)=>(o(),f(M,{elevation:"10"},{default:i(()=>[h.value?(o(),f(T,{key:0,height:"200",type:"table-tbody"})):(o(),f(E,{key:1},{default:i(()=>[t("div",sa,[t("div",null,[t("h2",oa,e(l.title)+" : "+e(u.value||0),1)]),n(V),t("div",la,[n(P,{variant:"tonal",color:"primary",density:"compact",to:`/demands?status=${l.options.status}`},{default:i(()=>[N(e(s.$t("Voir plus")),1)]),_:1},8,["to"])])]),n(A,{density:"compact"},{default:i(()=>[t("thead",null,[t("tr",null,[t("th",na,e(s.$t("Nom")),1),t("th",ia,e(s.$t("Date")),1),t("th",ra,e(s.$t("Source")),1),t("th",da,e(s.$t("Type")),1),t("th",ua,e(s.$t("Lieu")),1)])]),t("tbody",null,[(o(!0),m(k,null,S(c.value,a=>(o(),m("tr",{key:a.id,class:"month-item cursor-pointer",onClick:r=>s.$router.push("/demands/"+a.id)},[t("td",ha,e(a.customer?`${a.customer.firstname} ${a.customer.lastname}`:"-"),1),_.options.statistics!="closed"?(o(),m("td",pa,e(y(Y)(a.event_date)),1)):D("",!0),t("td",_a,e(a.source),1),t("td",ma,[a.eventtype?(o(),f(j,{key:0,text:a.eventtype.name},{activator:i(({props:r})=>[t("span",O(H(r)),e(a.eventtype.name==null||a.eventtype.name.length<30?a.eventtype.name:`${a.eventtype.name.replace(`
`," ").slice(0,29)}...`),17)]),_:2},1032,["text"])):D("",!0)]),_.options.statistics!="closed"?(o(),m("td",fa,[n(j,{text:a.hall?a.hall.name:""},{activator:i(({props:r})=>[a.hall?(o(),m("span",O(U({key:0},r)),e(a.hall.name.length<30?a.hall.name:`${a.hall.name.replace(`
`," ").slice(0,29)}...`),17)):D("",!0)]),_:2},1032,["text"])])):D("",!0)],8,ca))),128))])]),_:1})]),_:1}))]),_:1}))}}),Ia=C({__name:"Dashboard",setup(l){const c=d({title:"Dashboard"}),u=d([]);return(h,$)=>(o(),m(k,null,[n(ut,{title:c.value.title,breadcrumbs:u.value},null,8,["title","breadcrumbs"]),n(vt,{class:"dashboard"},{default:i(()=>[n(w,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:i(()=>[n(R,{class:"h-100",title:h.$t("PRESTATION A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"future",status:1}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:i(()=>[n(R,{class:"h-100",title:h.$t("PRESTATION DEJA PASSE"),options:{per_page:10,order_by:"event_date",direction:"DESC",statistics:"past",status:3}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:i(()=>[n(Gt,{class:"h-100",title:h.$t("CLIENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past",status:1}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"6",xxl:"6"},{default:i(()=>[n($a,{class:"h-100",title:h.$t("DEMANDES RECENTS"),options:{per_page:10,order_by:"event_date",direction:"asc",statistics:"past",status:1}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(G,{class:"h-100",title:h.$t("CA/MOIS DÉJÀ PASSÉ"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"past"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(G,{class:"h-100",title:h.$t("CA/MOIS A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"future"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(me,{class:"h-100",title:h.$t("CA A L’ANNEE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"year_income"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(Se,{class:"h-100",title:h.$t("LISTE SALLES"),options:{per_page:10,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(Le,{class:"h-100",title:h.$t("REGLEMENTS"),options:{per_page:10,order_by:"payment_date",direction:"DESC",statistics:"dashboard"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(R,{class:"h-100",title:h.$t("REG. EN ATTENTE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"closed"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(Xe,{class:"h-100",title:h.$t("TYPE REGLEMENTS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),n(w,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:i(()=>[n(aa,{class:"h-100",title:h.$t("TYPE PRESTATIONS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1})]),_:1})],64))}});export{Ia as default};
