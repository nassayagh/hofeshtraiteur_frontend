import{a6 as v,r as d,o as n,_ as x,w as l,b as a,a as t,t as e,V as T,d as D,c as u,a5 as b,a8 as h,X as f,h as k}from"./index-C3-zWVOp.js";import{V as w,_ as L}from"./BaseBreadcrumb-BuAI66N5.js";import"./demands-BwwmHZ5m.js";import{u as P}from"./Controller-V0kpQJ_b.js";import{f as R,a as g,b as O}from"./formatters-DFmKRZND.js";import{a as M}from"./VSpacer-DRItKIU5.js";import{V as E,a as C}from"./VCard-XJrfK6mn.js";import{u as F}from"./customers-B_1ThiCJ.js";import{V as j}from"./VAutocomplete-s7ZYFXMQ.js";import{u as J}from"./hall-B6jYCzcQ.js";import{u as Y}from"./payments-CNrqDwA-.js";import{u as B}from"./paymentMethod-CTkLZwc0.js";import{u as H}from"./eventType-46yclPU5.js";import{V as y,a as G}from"./VRow-BYU6vl7Y.js";import"./VAvatar-DgIAgSaV.js";import"./VSelect-n_jRRXMZ.js";import"./VTextField-ChiILBpK.js";import"./VMenu-BJqZy9f5.js";import"./filter-OTOk84A_.js";const U={class:"d-sm-flex align-center"},X={class:"text-h4"},q={class:"ml-auto"},z={class:"text-subtitle-1 font-weight-medium"},K={class:"text-subtitle-1 font-weight-medium"},Q={class:"text-subtitle-1 font-weight-medium"},W={class:"text-subtitle-1 font-weight-medium"},Z=["onClick"],tt={class:"text-no-wrap"},et={class:"text-no-wrap"},st={class:"text-no-wrap text-truncate"},I=v({__name:"PrestastionTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=P(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",U,[t("div",null,[t("h2",X,e(c.title),1)]),a(M),t("div",q,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/prestations"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",z,e(s.$t("Nom")),1),t("th",K,e(s.$t("Date")),1),t("th",Q,e(s.$t("Montant")),1),t("th",W,e(s.$t("Lieu")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item cursor-pointer",onClick:S=>s.$router.push("/prestations/"+o.id)},[t("td",tt,e(o.customer?`${o.customer.firstname} ${o.customer.lastname}`:"-"),1),t("td",et,e(h(R)(o.event_date)),1),t("td",null,e(h(g)(o.services_sum_total)),1),t("td",st,e(o.event_location==null||o.event_location.length<10?o.event_location:`${o.event_location.length}: ${o.event_location.replace(`
`," ").substring(9)}...`),1)],8,Z))),128))])]),_:1})]),_:1})]),_:1}))}}),ot={class:"d-sm-flex align-center"},at={class:"text-h4"},lt={class:"ml-auto"},nt={class:"text-subtitle-1 font-weight-medium"},it={class:"text-subtitle-1 font-weight-medium"},rt={class:"text-subtitle-1 font-weight-medium"},dt={class:"text-subtitle-1 font-weight-medium"},ct=["onClick"],ut={class:"text-no-wrap"},_t=v({__name:"CustomerTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=F(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",ot,[t("div",null,[t("h2",at,e(c.title),1)]),a(M),t("div",lt,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/customers"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",nt,e(s.$t("Nom")),1),t("th",it,e(s.$t("Mail")),1),t("th",rt,e(s.$t("Tel")),1),t("th",dt,e(s.$t("Prest")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{onClick:S=>s.$router.push("/customers/"+o.id),key:o.id,class:"month-item cursor-pointer"},[t("td",null,e(`${o.firstname} ${o.lastname}`),1),t("td",null,e(`${o.email}`),1),t("td",null,e(`${o.phone}`),1),t("td",ut,e(o.prestations_count),1)],8,ct))),128))])]),_:1})]),_:1})]),_:1}))}}),ht={class:"d-sm-flex align-center"},pt={class:"text-h4"},mt={class:"ml-auto"},ft={class:"text-subtitle-1 font-weight-medium"},$t={class:"text-subtitle-1 font-weight-medium"},yt={class:"text-subtitle-1 font-weight-medium"},bt={class:"text-subtitle-1 font-weight-medium"},gt={class:"text-subtitle-1 font-weight-medium"},vt={class:"text-subtitle-1 font-weight-medium"},St={class:"text-subtitle-1 font-weight-medium"},xt={class:"text-no-wrap"},wt={class:"text-no-wrap"},N=v({__name:"IncomePerMonthTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){const r=new Date().getFullYear(),_=d(r);d(["March","April","May","June"]);const i=d([]),s=P(),m=c,o=Array.from({length:20},(p,V)=>m.options.section=="future"?r+V:r-V);function S(){s.fetchYearStatistics({...m.options,year:_.value}).then(p=>{i.value=p.data})}k(()=>{S()});function A(p){S()}return(p,V)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",ht,[t("div",null,[t("h2",pt,e(c.title),1)]),a(M),t("div",mt,[a(j,{modelValue:_.value,"onUpdate:modelValue":[V[0]||(V[0]=$=>_.value=$),A],items:h(o),variant:"outlined",dense:"",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",ft,e(p.$t("Mois")),1),t("th",$t,e(p.$t("Reste à payer")),1),t("th",yt,e(p.$t("Déjà payer")),1),t("th",bt,e(p.$t("CA")),1),t("th",gt,e(p.$t("Clients")),1),t("th",vt,e(p.$t("Prest fait")),1),t("th",St,e(p.$t("Prest annulé")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(i.value,$=>(n(),u("tr",{key:$.id,class:"month-item"},[t("td",xt,e(h(O)($.label)),1),t("td",wt,e(h(g)($.amount_left)),1),t("td",null,e(h(g)($.amount_paid)),1),t("td",null,e(h(g)($.total_amount)),1),t("td",null,e($.customers_count||0),1),t("td",null,e($.prestations_closed||0),1),t("td",null,e($.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Et={class:"d-sm-flex align-center"},Ct={class:"text-h4"},At={class:"text-subtitle-1 font-weight-medium"},Mt={class:"text-subtitle-1 font-weight-medium"},Tt={class:"text-subtitle-1 font-weight-medium"},Dt={class:"text-subtitle-1 font-weight-medium"},Vt={class:"text-subtitle-1 font-weight-medium"},Pt={class:"text-subtitle-1 font-weight-medium"},It={class:"text-subtitle-1 font-weight-medium"},Nt={class:"text-no-wrap"},Rt={class:"text-no-wrap"},kt=v({__name:"IncomePerYearTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=P(),i=c;return _.fetchYearStatistics(i.options).then(s=>{r.value=s.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Et,[t("div",null,[t("h2",Ct,e(c.title),1)])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",At,e(s.$t("Année")),1),t("th",Mt,e(s.$t("Reste à payer")),1),t("th",Tt,e(s.$t("Déjà payer")),1),t("th",Dt,e(s.$t("CA")),1),t("th",Vt,e(s.$t("Clients")),1),t("th",Pt,e(s.$t("Prest fait")),1),t("th",It,e(s.$t("Prest annulé")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",Nt,e(o.year),1),t("td",Rt,e(h(g)(o.amount_left)),1),t("td",null,e(h(g)(o.amount_paid)),1),t("td",null,e(h(g)(o.total_amount)),1),t("td",null,e(o.customers_count||0),1),t("td",null,e(o.prestations_closed||0),1),t("td",null,e(o.prestations_cancelled||0),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Lt={class:"d-sm-flex align-center"},Ot={class:"text-h4"},Ft={class:"ml-auto"},jt={class:"text-subtitle-1 font-weight-medium"},Jt={class:"text-subtitle-1 font-weight-medium"},Yt={class:"text-subtitle-1 font-weight-medium"},Bt={class:"text-no-wrap"},Ht={class:"text-no-wrap"},Gt={class:"text-no-wrap"},Ut=v({__name:"HallTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=J(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Lt,[t("div",null,[t("h2",Ot,e(c.title),1)]),a(M),t("div",Ft,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/halls"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",jt,e(s.$t("Nom")),1),t("th",Jt,e(s.$t("PREST faite")),1),t("th",Yt,e(s.$t("PREST à venir")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",Bt,e(`${o.name}`),1),t("td",Ht,e(o.prestations_past),1),t("td",Gt,e(o.prestations_coming),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),Xt={class:"d-sm-flex align-center"},qt={class:"text-h4"},zt={class:"ml-auto"},Kt={class:"text-subtitle-1 font-weight-medium"},Qt={class:"text-subtitle-1 font-weight-medium"},Wt={class:"text-subtitle-1 font-weight-medium"},Zt=["onClick"],te={class:"text-no-wrap"},ee={class:"text-no-wrap"},se={class:"text-no-wrap"},oe=v({__name:"PaymentTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=Y(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",Xt,[t("div",null,[t("h2",qt,e(c.title),1)]),a(M),t("div",zt,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/payments"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",Kt,e(s.$t("Montant")),1),t("th",Qt,e(s.$t("Prestation")),1),t("th",Wt,e(s.$t("Date")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item cursor-pointer",onClick:S=>s.$router.push("/prestations/"+o.prestation_id)},[t("td",te,e(h(g)(o.amount)),1),t("td",ee,e(`${o.prestation?`${o.prestation.event_type||"-"}`:""}`),1),t("td",se,e(h(R)(o.created_at)),1)],8,Zt))),128))])]),_:1})]),_:1})]),_:1}))}}),ae={class:"d-sm-flex align-center"},le={class:"text-h4"},ne={class:"ml-auto"},ie={class:"text-subtitle-1 font-weight-medium"},re={class:"text-subtitle-1 font-weight-medium"},de={class:"text-subtitle-1 font-weight-medium"},ce={class:"text-no-wrap"},ue={class:"text-no-wrap"},_e={class:"text-no-wrap"},he=v({__name:"PaymentTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=B(),i=c;return _.fetchItems(i.options).then(s=>{r.value=s.data.data}),(s,m)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",ae,[t("div",null,[t("h2",le,e(c.title),1)]),a(M),t("div",ne,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/payment_methods"},{default:l(()=>[D(e(s.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",ie,e(s.$t("Nom")),1),t("th",re,e(s.$t("Montant")),1),t("th",de,e(s.$t("NB Réglements")),1)])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,o=>(n(),u("tr",{key:o.id,class:"month-item"},[t("td",ce,e(o.name),1),t("td",ue,e(h(g)(o.payments_sum_amount)),1),t("td",_e,e(o.payments_count),1)]))),128))])]),_:1})]),_:1})]),_:1}))}}),pe={class:"d-sm-flex align-center"},me={class:"text-h4"},fe={class:"ml-auto"},$e={class:"text-subtitle-1 font-weight-medium"},ye={class:"text-subtitle-1 font-weight-medium"},be={class:"text-no-wrap"},ge=v({__name:"PrestationTypeTable",props:{title:{type:String,default:""},options:{type:Object,default:()=>({per_page:"10",order_by:"id",direction:"DESC"})}},setup(c){d("March"),d(["March","April","May","June"]);const r=d([]),_=H(),i=c,s=new Date().getFullYear(),m=Array.from({length:4},(o,S)=>s-S);return _.fetchItems(i.options).then(o=>{r.value=o.data.data}),(o,S)=>(n(),x(C,{elevation:"10"},{default:l(()=>[a(E,null,{default:l(()=>[t("div",pe,[t("div",null,[t("h2",me,e(c.title),1)]),a(M),t("div",fe,[a(T,{variant:"tonal",color:"primary",density:"compact",to:"/event_types"},{default:l(()=>[D(e(o.$t("Voir plus")),1)]),_:1})])]),a(w,{density:"compact"},{default:l(()=>[t("thead",null,[t("tr",null,[t("th",$e,e(o.$t("Nom")),1),(n(!0),u(f,null,b(h(m),A=>(n(),u("th",ye,e(A),1))),256))])]),t("tbody",null,[(n(!0),u(f,null,b(r.value,A=>(n(),u("tr",{key:A.id,class:"month-item"},[t("td",null,e(A.name),1),(n(!0),u(f,null,b(h(m),p=>(n(),u("td",be,e(A[`prestation_${p}`]||0),1))),256))]))),128))])]),_:1})]),_:1})]),_:1}))}}),je=v({__name:"Dashboard",setup(c){const r=d({title:"Dashboard"}),_=d([]);return(i,s)=>(n(),u(f,null,[a(L,{title:r.value.title,breadcrumbs:_.value},null,8,["title","breadcrumbs"]),a(G,{class:"dashboard"},{default:l(()=>[a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(I,{class:"h-100",title:i.$t("LISTE PRESTATION A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"future"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(I,{class:"h-100",title:i.$t("LISTE PRESTATION DEJA PASSE"),options:{per_page:10,order_by:"event_date",direction:"DESC",statistics:"past"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(_t,{class:"h-100",title:i.$t("LISTE DES CLIENTS RECENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"past"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(N,{class:"h-100",title:i.$t("CHIFFRE D’AFFAIRE PAR MOIS - DÉJÀ PASSÉ"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"past"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(N,{class:"h-100",title:i.$t("CHIFFRE D’AFFAIRE PAR MOIS - A VENIR"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"month_income",section:"future"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:l(()=>[a(kt,{class:"h-100",title:i.$t("CA A L’ANNEE"),options:{per_page:10,order_by:"event_date",direction:"ASC",statistics:"year_income"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"3",xxl:"3"},{default:l(()=>[a(Ut,{class:"h-100",title:i.$t("LISTE SALLES"),options:{per_page:10,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"3",xxl:"3"},{default:l(()=>[a(oe,{class:"h-100",title:i.$t("LISTE REGLEMENTS"),options:{per_page:10,order_by:"created_at",direction:"DESC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"3",xxl:"3"},{default:l(()=>[a(he,{class:"h-100",title:i.$t("TYPE REGLEMENTS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1}),a(y,{cols:"12",md:"6",lg:"6",xl:"3",xxl:"3"},{default:l(()=>[a(ge,{class:"h-100",title:i.$t("TYPE PRESTATIONS"),options:{per_page:1e3,order_by:"name",direction:"ASC",statistics:"dashboard"}},null,8,["title"])]),_:1})]),_:1})],64))}});export{je as default};
