import{a6 as M,av as y,e as V,r,aK as g,h as B,o as D,_ as H,w as l,b as e,d as n,t as d,n as T,V as f}from"./index-BWIBJZct.js";import{u as A}from"./Controller-iziHBG1V.js";import{u as E}from"./hall-yfx4Figx.js";import{b as I,a as N,c as P,V as U}from"./VCard-C_MBnFgh.js";import{f as h}from"./VMenu-BA9OMPvi.js";import{a as j,V as C}from"./VRow-CHh4798a.js";import{b as K,c as O}from"./VDialog-bl4cAYo0.js";import{V as S}from"./VSpacer-BS9x1fw_.js";const X=M({__name:"ChangeHall",props:{modelValue:Object},emits:["update:modelValue"],setup(k,{emit:b}){const _=A(),c=y(),$=E(),w=k,p=b,i=V({get:()=>w.modelValue,set:a=>p("update:modelValue",a)}),u=r(!1),s=r(!1);r("");const m=r(i.value.hall_id||null),v=r([]);V(()=>`${g("Modifier la salle")}`);function x(){s.value=!0,_.changeHall(i.value.id,m.value).then(a=>{i.value=a.data,u.value=!1,c.showSuccess(g("Salle changée avec succès")),p("refresh",a.data)}).catch(a=>{s.value=!1,c.showError(a.message)}).then(()=>{s.value=!1})}return B(()=>{$.fetchItems({per_page:1e3}).then(a=>{v.value=a.data.data})}),(a,t)=>(D(),H(O,{modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=o=>u.value=o),"max-width":"500px"},{activator:l(({props:o})=>[e(f,T({dark:""},o,{variant:"tonal",density:"compact",onClick:t[0]||(t[0]=R=>s.value=!1)}),{default:l(()=>[n(d(a.$t("Modifier")),1)]),_:2},1040)]),default:l(()=>[e(U,null,{default:l(()=>[e(I,{class:"text-h5 text-center py-6"},{default:l(()=>[n(d(a.$t("Modifier la salle")),1)]),_:1}),e(h),e(N,null,{default:l(()=>[e(j,null,{default:l(()=>[e(C,{cols:"12"},{default:l(()=>[e(C,{cols:"12"},{default:l(()=>[e(K,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),items:v.value,"item-value":"id","item-title":"name",label:a.$t("Salle liée")},null,8,["modelValue","items","label"])]),_:1})]),_:1})]),_:1})]),_:1}),e(h),e(P,null,{default:l(()=>[e(S),e(f,{color:"error",variant:"flat",dark:"",onClick:t[2]||(t[2]=o=>u.value=!1)},{default:l(()=>[n(d(a.$t("Annuller")),1)]),_:1}),e(f,{color:"success",variant:"flat",loading:s.value,dark:"",onClick:x},{default:l(()=>[n(d(a.$t("Enregistrer")),1)]),_:1},8,["loading"]),e(S)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});export{X as _};
