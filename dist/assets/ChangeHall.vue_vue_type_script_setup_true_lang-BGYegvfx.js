import{a6 as M,av as x,e as g,r,aM as h,h as B,o as D,_ as H,w as l,b as e,d as u,t as i,n as T,V as f}from"./index-V7uEaUZU.js";import{u as A}from"./Controller-CBpXN6OF.js";import{u as E}from"./hall-nTq0h74K.js";import{b as I,V as N,c as P,a as U}from"./VCard--aoCl2hm.js";import{f as C}from"./VMenu-D3b5pAl3.js";import{a as j,V as S}from"./VRow-Br7W0t3Z.js";import{b as O}from"./VSelect-CNPufMkU.js";import{a as k}from"./VSpacer-B7D1SjI6.js";import{V as R}from"./VDialog-DfzC34LR.js";const Y=M({__name:"ChangeHall",props:{modelValue:Object,type:{type:String,default:"prestation"}},emits:["update:modelValue"],setup(b,{emit:_}){const $=A(),p=x(),w=E(),c=b,v=_,d=g({get:()=>c.modelValue,set:a=>v("update:modelValue",a)}),n=r(!1),s=r(!1);r("");const m=r(d.value.hall_id||null),V=r([]);g(()=>`${h("Modifier la salle")}`);function y(){s.value=!0,$.changeHall(d.value.id,m.value,c.type).then(a=>{d.value=a.data,n.value=!1,p.showSuccess(h("Salle changée avec succès")),v("refresh",a.data)}).catch(a=>{s.value=!1,p.showError(a.message)}).then(()=>{s.value=!1})}return B(()=>{w.fetchItems({per_page:1e3}).then(a=>{V.value=a.data.data})}),(a,t)=>(D(),H(R,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=o=>n.value=o),"max-width":"500px"},{activator:l(({props:o})=>[e(f,T({dark:""},o,{variant:"tonal",density:"compact",onClick:t[0]||(t[0]=q=>s.value=!1)}),{default:l(()=>[u(i(a.$t("Modifier")),1)]),_:2},1040)]),default:l(()=>[e(U,null,{default:l(()=>[e(I,{class:"text-h5 text-center py-6"},{default:l(()=>[u(i(a.$t("Modifier la salle")),1)]),_:1}),e(C),e(N,null,{default:l(()=>[e(j,null,{default:l(()=>[e(S,{cols:"12"},{default:l(()=>[e(S,{cols:"12"},{default:l(()=>[e(O,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),items:V.value,"item-value":"id","item-title":"name",label:a.$t("Salle liée")},null,8,["modelValue","items","label"])]),_:1})]),_:1})]),_:1})]),_:1}),e(C),e(P,null,{default:l(()=>[e(k),e(f,{color:"error",variant:"flat",dark:"",onClick:t[2]||(t[2]=o=>n.value=!1)},{default:l(()=>[u(i(a.$t("Annuller")),1)]),_:1}),e(f,{color:"success",variant:"flat",loading:s.value,dark:"",onClick:y},{default:l(()=>[u(i(a.$t("Enregistrer")),1)]),_:1},8,["loading"]),e(k)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});export{Y as _};
