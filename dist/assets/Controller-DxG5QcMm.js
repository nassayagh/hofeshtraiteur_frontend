import{a9 as l,aK as i,aa as n}from"./index-D4NqtLTp.js";const c=l({id:"Prestations",state:()=>({prestations:{data:[],loading:!1,error:null},statuses:{started:0,validated:1,processing:2,closed:3,cancelled:-1},statusesList:[{id:1,label:i("Validée")},{id:3,label:i("Clôturée")},{id:-1,label:i("Annulé")},{id:null,label:i("Tous")}],statistics:{total:0,validation:0,validated:0,processing:0,closed:0,cancelled:0,paymentsLeft:0,paymentsReceived:0,totalPayments:0}}),actions:{fetchYearStatistics(e){return n.get("/statistics/prestations",{params:e})},fetchStatistics(e){return n.get("/statistics/prestations",{params:e}).then(r=>{r.data&&(this.statistics=r.data)})},fetchStats(e){return n.get("/statistics/prestations/stats",{params:e})},fetchItems(e){return n.get("/prestations",{params:e})},async addItem(e){return new Promise((r,a)=>{n.post("/prestations",e).then(t=>r(t)).catch(t=>a(t))})},fetchItem(e){return new Promise((r,a)=>{n.get(`/prestations/${e}`).then(t=>r(t)).catch(t=>a(t))})},deleteItem(e){return new Promise((r,a)=>{n.delete(`/prestations/${e}`).then(t=>r(t)).catch(t=>a(t))})},deleteService(e,r){return new Promise((a,t)=>{n.delete(`/prestations/services/${e}/${r}`).then(s=>a(s)).catch(s=>t(s))})},deletePayment(e,r){return new Promise((a,t)=>{n.delete(`/prestations/payments/${e}/${r}`).then(s=>a(s)).catch(s=>t(s))})},cancelItem(e,r){return new Promise((a,t)=>{n.post(`/prestations/cancel/${e}`,{comment:r}).then(s=>a(s)).catch(s=>t(s))})},addComment(e,r){return new Promise((a,t)=>{n.post(`/prestations/comment/${e}`,{comment:r}).then(s=>a(s)).catch(s=>t(s))})},startItem(e){return new Promise((r,a)=>{n.post(`/prestations/start/${e}`).then(t=>r(t)).catch(t=>a(t))})},closeItem(e){return new Promise((r,a)=>{n.post(`/prestations/close/${e}`).then(t=>r(t)).catch(t=>a(t))})},validateItem(e,r){return new Promise((a,t)=>{n.post(`/prestations/validate/${e}`,{comment:r}).then(s=>a(s)).catch(s=>t(s))})},changeHall(e,r){return new Promise((a,t)=>{n.post(`/prestations/changehall/${e}`,{hall:r}).then(s=>a(s)).catch(s=>t(s))})},saveService(e,r){return new Promise((a,t)=>{n.post(`/prestations/service/${e}`,r).then(s=>a(s)).catch(s=>t(s))})},savePayment(e,r){return new Promise((a,t)=>{n.post(`/prestations/payment/${e}`,r).then(s=>a(s)).catch(s=>t(s))})},statusColor(e){return e==-1?"#FA896B":e==1?"#97e686":e==3?"#1f9007":e==2?"#5D87FF":"#FFAE1F"},statusText(e){return e==this.statuses.cancelled?i("Annulé"):e==this.statuses.validated?i("Validée"):e==this.statuses.processing?i("En cours"):e==this.statuses.closed?i("Clôturée"):i("Validation")},pageTitle(e){return e==this.statuses.cancelled?i("Prestations annulées"):e==this.statuses.validated?i("Prestations validées"):e==this.statuses.processing?i("Prestations en cours"):e==this.statuses.closed?i("Prestations clôturées"):i("Prestations en attente de validation")},pageLink(e){return e==this.statuses.cancelled?"/prestations/list/cancelled":e==this.statuses.validated?"/prestations/list/validated":e==this.statuses.processing?"/prestations/list/processing":e==this.statuses.closed?"/prestations/list/closed":"/prestations/list/started"}}});export{c as u};
