import{a9 as c,aD as d,aa as n}from"./index-BXvHIqz6.js";const l=c({id:"Demands",state:()=>({statuses:{started:0,validated:1,processing:2,closed:3,cancelled:-1},statusesList:[{id:0,label:d("En cours")},{id:-1,label:d("Annulé")}],statistics:{total:0,validated:0,unvalidated:0,cancelled:0},demands:{data:[],loading:!1,error:null}}),actions:{fetchStatistics(e){return n.get("/statistics/demands",{params:e}).then(s=>{s.data&&(this.statistics=s.data)})},fetchStats(e){return n.get("/statistics/demands/stats",{params:e})},fetchItems(e){return n.get("/demands",{params:e})},async addItem(e){return new Promise((s,a)=>{n.post("/demands",e).then(t=>s(t)).catch(t=>a(t))})},fetchItem(e){return new Promise((s,a)=>{n.get(`/demands/${e}`).then(t=>s(t)).catch(t=>a(t))})},deleteItem(e){return new Promise((s,a)=>{n.delete(`/demands/${e}`).then(t=>s(t)).catch(t=>a(t))})},cancelItem(e){return new Promise((s,a)=>{n.post(`/demands/cancel/${e}`).then(t=>s(t)).catch(t=>a(t))})},addComment(e,s){return new Promise((a,t)=>{n.post(`/demands/comment/${e}`,{comment:s}).then(r=>a(r)).catch(r=>t(r))})},validateItem(e,s){return new Promise((a,t)=>{n.post(`/demands/validate/${e}`,s).then(r=>a(r)).catch(r=>t(r))})},statusColor(e){return e==-1?"#FA896B":e==1?"#1f9007":e==2?"#5D87FF":"#FFAE1F"},statusText(e){return e==-1?d("Annulé"):e==1?d("En cours"):e==2?d("En cours"):d("En cours")},getStatuses(){}}});export{l as u};
