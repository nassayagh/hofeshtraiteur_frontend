import{a9 as i,aD as r,aa as n}from"./index-Haou7WZV.js";const c=i({id:"Demands",state:()=>({statuses:{started:0,validated:1,processing:2,closed:3,cancelled:-1},statusesList:[{id:0,label:r("Nouvelle demande")},{id:-1,label:r("Annulé")}],statistics:{total:0,validated:0,unvalidated:0,cancelled:0},demands:{data:[],loading:!1,error:null}}),actions:{fetchStatistics(e){return n.get("/statistics/demands",{params:e}).then(a=>{a.data&&(this.statistics=a.data)})},fetchStats(e){return n.get("/statistics/demands/stats",{params:e})},fetchItems(e){return n.get("/demands",{params:e})},async addItem(e){return new Promise((a,s)=>{n.post("/demands",e).then(t=>a(t)).catch(t=>s(t))})},fetchItem(e){return new Promise((a,s)=>{n.get(`/demands/${e}`).then(t=>a(t)).catch(t=>s(t))})},deleteItem(e){return new Promise((a,s)=>{n.delete(`/demands/${e}`).then(t=>a(t)).catch(t=>s(t))})},cancelItem(e){return new Promise((a,s)=>{n.post(`/demands/cancel/${e}`).then(t=>a(t)).catch(t=>s(t))})},addComment(e,a){return new Promise((s,t)=>{n.post(`/demands/comment/${e}`,{comment:a}).then(d=>s(d)).catch(d=>t(d))})},validateItem(e,a){return new Promise((s,t)=>{n.post(`/demands/validate/${e}`,a).then(d=>s(d)).catch(d=>t(d))})},statusColor(e){return e==-1?"#FA896B":e==1?"#1f9007":e==2?"#5D87FF":"#FFAE1F"},statusText(e){return e==-1?r("Annulé"):e==1?r("Validé"):e==2?r("Terminé"):r("Nouvelle demande")},getStatuses(){}}});export{c as u};
